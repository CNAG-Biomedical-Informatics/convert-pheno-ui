{"version":3,"file":"static/js/1347.22b584ae.chunk.js","mappings":"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","sources":["../node_modules/crypto-js/core.js","../node_modules/crypto-js/enc-base64.js","../node_modules/crypto-js/enc-utf8.js","../node_modules/crypto-js/sha256.js","../node_modules/jwt-decode/lib/atob.js","../node_modules/jwt-decode/lib/base64_url_decode.js","../node_modules/jwt-decode/lib/index.js","../node_modules/oidc-client-ts/src/index.ts","../node_modules/oidc-client-ts/src/utils/CryptoUtils.ts","../node_modules/oidc-client-ts/src/utils/Logger.ts","../node_modules/oidc-client-ts/src/utils/Event.ts","../node_modules/oidc-client-ts/src/utils/JwtUtils.ts","../node_modules/oidc-client-ts/src/utils/PopupUtils.ts","../node_modules/oidc-client-ts/src/utils/Timer.ts","../node_modules/oidc-client-ts/src/utils/UrlUtils.ts","../node_modules/oidc-client-ts/src/errors/ErrorResponse.ts","../node_modules/oidc-client-ts/src/errors/ErrorTimeout.ts","../node_modules/oidc-client-ts/src/AccessTokenEvents.ts","../node_modules/oidc-client-ts/src/CheckSessionIFrame.ts","../node_modules/oidc-client-ts/src/InMemoryWebStorage.ts","../node_modules/oidc-client-ts/src/JsonService.ts","../node_modules/oidc-client-ts/src/MetadataService.ts","../node_modules/oidc-client-ts/src/WebStorageStateStore.ts","../node_modules/oidc-client-ts/src/OidcClientSettings.ts","../node_modules/oidc-client-ts/src/UserInfoService.ts","../node_modules/oidc-client-ts/src/TokenClient.ts","../node_modules/oidc-client-ts/src/ResponseValidator.ts","../node_modules/oidc-client-ts/src/State.ts","../node_modules/oidc-client-ts/src/SigninState.ts","../node_modules/oidc-client-ts/src/SigninRequest.ts","../node_modules/oidc-client-ts/src/SigninResponse.ts","../node_modules/oidc-client-ts/src/SignoutRequest.ts","../node_modules/oidc-client-ts/src/SignoutResponse.ts","../node_modules/oidc-client-ts/src/ClaimsService.ts","../node_modules/oidc-client-ts/src/OidcClient.ts","../node_modules/oidc-client-ts/src/SessionMonitor.ts","../node_modules/oidc-client-ts/src/User.ts","../node_modules/oidc-client-ts/src/navigators/AbstractChildWindow.ts","../node_modules/oidc-client-ts/src/UserManagerSettings.ts","../node_modules/oidc-client-ts/src/navigators/IFrameWindow.ts","../node_modules/oidc-client-ts/src/navigators/IFrameNavigator.ts","../node_modules/oidc-client-ts/src/navigators/PopupWindow.ts","../node_modules/oidc-client-ts/src/navigators/PopupNavigator.ts","../node_modules/oidc-client-ts/src/navigators/RedirectNavigator.ts","../node_modules/oidc-client-ts/src/UserManagerEvents.ts","../node_modules/oidc-client-ts/src/SilentRenewService.ts","../node_modules/oidc-client-ts/src/RefreshState.ts","../node_modules/oidc-client-ts/src/UserManager.ts","../node_modules/oidc-client-ts/src/Version.ts","../node_modules/oidc-client-ts/package.json","../node_modules/oidc-spa/src/index.ts","../node_modules/oidc-spa/node_modules/tsafe/src/assert.ts","../node_modules/oidc-spa/node_modules/tsafe/src/id.ts","../node_modules/oidc-spa/node_modules/tsafe/src/is.ts","../node_modules/oidc-spa/node_modules/tsafe/src/lab/overwriteReadonlyProp.ts","../node_modules/oidc-spa/node_modules/tsafe/src/zz_internal/assertIsRefWrapper.ts","../node_modules/oidc-spa/src/oidc.ts","../node_modules/oidc-spa/src/react.tsx","../node_modules/oidc-spa/src/tools/Deferred.ts","../node_modules/oidc-spa/src/tools/decodeJwt.ts","../node_modules/oidc-spa/src/tools/fnv1aHashToHex.ts","../node_modules/oidc-spa/src/tools/readExpirationTimeInJwt.ts","../node_modules/oidc-spa/src/tools/urlQueryParams.ts","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/construct.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/get.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/isNativeFunction.js","../node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js","../node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/toPrimitive.js","../node_modules/@babel/runtime/helpers/toPropertyKey.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/wrapNativeSuper.js"],"sourcesContent":[";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/*globals window, global, require*/\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\n\t    var crypto;\n\n\t    // Native crypto from window (Browser)\n\t    if (typeof window !== 'undefined' && window.crypto) {\n\t        crypto = window.crypto;\n\t    }\n\n\t    // Native crypto in web worker (Browser)\n\t    if (typeof self !== 'undefined' && self.crypto) {\n\t        crypto = self.crypto;\n\t    }\n\n\t    // Native crypto from worker\n\t    if (typeof globalThis !== 'undefined' && globalThis.crypto) {\n\t        crypto = globalThis.crypto;\n\t    }\n\n\t    // Native (experimental IE 11) crypto from window (Browser)\n\t    if (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n\t        crypto = window.msCrypto;\n\t    }\n\n\t    // Native crypto from global (NodeJS)\n\t    if (!crypto && typeof global !== 'undefined' && global.crypto) {\n\t        crypto = global.crypto;\n\t    }\n\n\t    // Native crypto import via require (NodeJS)\n\t    if (!crypto && typeof require === 'function') {\n\t        try {\n\t            crypto = require('crypto');\n\t        } catch (err) {}\n\t    }\n\n\t    /*\n\t     * Cryptographically secure pseudorandom number generator\n\t     *\n\t     * As Math.random() is cryptographically not safe to use\n\t     */\n\t    var cryptoSecureRandomInt = function () {\n\t        if (crypto) {\n\t            // Use getRandomValues method (Browser)\n\t            if (typeof crypto.getRandomValues === 'function') {\n\t                try {\n\t                    return crypto.getRandomValues(new Uint32Array(1))[0];\n\t                } catch (err) {}\n\t            }\n\n\t            // Use randomBytes method (NodeJS)\n\t            if (typeof crypto.randomBytes === 'function') {\n\t                try {\n\t                    return crypto.randomBytes(4).readInt32LE();\n\t                } catch (err) {}\n\t            }\n\t        }\n\n\t        throw new Error('Native crypto module could not be used to get secure random number.');\n\t    };\n\n\t    /*\n\t     * Local polyfill of Object.create\n\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {}\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }());\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var j = 0; j < thatSigBytes; j += 4) {\n\t                    thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            for (var i = 0; i < nBytes; i += 4) {\n\t                words.push(cryptoSecureRandomInt());\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            var processedWords;\n\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              var bitsCombined = bits1 | bits2;\n\t              words[nBytes >>> 2] |= bitsCombined << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Utf8;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nexport { ErrorResponse, ErrorTimeout } from \"./errors\";\nexport type { INavigator, IFrameWindowParams, IWindow, NavigateParams, NavigateResponse, PopupWindowParams, RedirectParams } from \"./navigators\";\nexport { Log, Logger } from \"./utils\";\nexport type { ILogger, PopupWindowFeatures } from \"./utils\";\nexport type { OidcAddressClaim, OidcStandardClaims, IdTokenClaims, JwtClaims } from \"./Claims\";\n\nexport { AccessTokenEvents } from \"./AccessTokenEvents\";\nexport type { AccessTokenCallback } from \"./AccessTokenEvents\";\nexport { CheckSessionIFrame } from \"./CheckSessionIFrame\";\nexport { InMemoryWebStorage } from \"./InMemoryWebStorage\";\nexport type { AsyncStorage } from \"./AsyncStorage\";\nexport { MetadataService } from \"./MetadataService\";\nexport * from \"./OidcClient\";\nexport { OidcClientSettingsStore } from \"./OidcClientSettings\";\nexport type { OidcClientSettings, SigningKey, ExtraHeader } from \"./OidcClientSettings\";\nexport type { OidcMetadata } from \"./OidcMetadata\";\nexport { SessionMonitor } from \"./SessionMonitor\";\nexport type { SessionStatus } from \"./SessionStatus\";\nexport type { SigninRequest, SigninRequestArgs } from \"./SigninRequest\";\nexport type { RefreshState } from \"./RefreshState\";\nexport { SigninResponse } from \"./SigninResponse\";\nexport { SigninState } from \"./SigninState\";\nexport type { SignoutRequest, SignoutRequestArgs } from \"./SignoutRequest\";\nexport { SignoutResponse } from \"./SignoutResponse\";\nexport { State } from \"./State\";\nexport type { StateStore } from \"./StateStore\";\nexport { User } from \"./User\";\nexport type { UserProfile } from \"./User\";\nexport * from \"./UserManager\";\nexport type {\n    UserManagerEvents,\n    SilentRenewErrorCallback,\n    UserLoadedCallback,\n    UserSessionChangedCallback,\n    UserSignedInCallback,\n    UserSignedOutCallback,\n    UserUnloadedCallback,\n} from \"./UserManagerEvents\";\nexport { UserManagerSettingsStore } from \"./UserManagerSettings\";\nexport type { UserManagerSettings } from \"./UserManagerSettings\";\nexport { Version } from \"./Version\";\nexport { WebStorageStateStore } from \"./WebStorageStateStore\";\n","import CryptoJS from \"crypto-js/core.js\";\nimport sha256 from \"crypto-js/sha256.js\";\nimport Base64 from \"crypto-js/enc-base64.js\";\nimport Utf8 from \"crypto-js/enc-utf8.js\";\n\nimport { Logger } from \"./Logger\";\n\nconst UUID_V4_TEMPLATE = \"10000000-1000-4000-8000-100000000000\";\n\n/**\n * @internal\n */\nexport class CryptoUtils {\n    private static _randomWord(): number {\n        return CryptoJS.lib.WordArray.random(1).words[0];\n    }\n\n    /**\n     * Generates RFC4122 version 4 guid\n     */\n    public static generateUUIDv4(): string {\n        const uuid = UUID_V4_TEMPLATE.replace(/[018]/g, c =>\n            (+c ^ CryptoUtils._randomWord() & 15 >> +c / 4).toString(16),\n        );\n        return uuid.replace(/-/g, \"\");\n    }\n\n    /**\n     * PKCE: Generate a code verifier\n     */\n    public static generateCodeVerifier(): string {\n        return CryptoUtils.generateUUIDv4() + CryptoUtils.generateUUIDv4() + CryptoUtils.generateUUIDv4();\n    }\n\n    /**\n     * PKCE: Generate a code challenge\n     */\n    public static generateCodeChallenge(code_verifier: string): string {\n        try {\n            const hashed = sha256(code_verifier);\n            return Base64.stringify(hashed).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n        }\n        catch (err) {\n            Logger.error(\"CryptoUtils.generateCodeChallenge\", err);\n            throw err;\n        }\n    }\n\n    /**\n     * Generates a base64-encoded string for a basic auth header\n     */\n    public static generateBasicAuth(client_id: string, client_secret: string): string {\n        const basicAuth = Utf8.parse([client_id, client_secret].join(\":\"));\n        return Base64.stringify(basicAuth);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * Native interface\n *\n * @public\n */\nexport interface ILogger {\n    debug(...args: unknown[]): void;\n    info(...args: unknown[]): void;\n    warn(...args: unknown[]): void;\n    error(...args: unknown[]): void;\n}\n\nconst nopLogger: ILogger = {\n    debug: () => undefined,\n    info: () => undefined,\n    warn: () => undefined,\n    error: () => undefined,\n};\n\nlet level: number;\nlet logger: ILogger;\n\n/**\n * Log levels\n *\n * @public\n */\nexport enum Log {\n    NONE,\n    ERROR,\n    WARN,\n    INFO,\n    DEBUG\n}\n\n/**\n * Log manager\n *\n * @public\n */\nexport namespace Log { // eslint-disable-line @typescript-eslint/no-namespace\n    export function reset(): void {\n        level = Log.INFO;\n        logger = nopLogger;\n    }\n\n    export function setLevel(value: Log): void {\n        if (!(Log.NONE <= value && value <= Log.DEBUG)) {\n            throw new Error(\"Invalid log level\");\n        }\n        level = value;\n    }\n\n    export function setLogger(value: ILogger): void {\n        logger = value;\n    }\n}\n\n/**\n * Internal logger instance\n *\n * @public\n */\nexport class Logger {\n    private _method?: string;\n    public constructor(private _name: string) {}\n\n    /* eslint-disable @typescript-eslint/no-unsafe-enum-comparison */\n    public debug(...args: unknown[]): void {\n        if (level >= Log.DEBUG) {\n            logger.debug(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    public info(...args: unknown[]): void {\n        if (level >= Log.INFO) {\n            logger.info(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    public warn(...args: unknown[]): void {\n        if (level >= Log.WARN) {\n            logger.warn(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    public error(...args: unknown[]): void {\n        if (level >= Log.ERROR) {\n            logger.error(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    /* eslint-enable @typescript-eslint/no-unsafe-enum-comparison */\n\n    public throw(err: Error): never {\n        this.error(err);\n        throw err;\n    }\n\n    public create(method: string): Logger {\n        const methodLogger: Logger = Object.create(this);\n        methodLogger._method = method;\n        methodLogger.debug(\"begin\");\n        return methodLogger;\n    }\n\n    public static createStatic(name: string, staticMethod: string): Logger {\n        const staticLogger = new Logger(`${name}.${staticMethod}`);\n        staticLogger.debug(\"begin\");\n        return staticLogger;\n    }\n\n    private static _format(name: string, method?: string) {\n        const prefix = `[${name}]`;\n        return method ? `${prefix} ${method}:` : prefix;\n    }\n\n    /* eslint-disable @typescript-eslint/no-unsafe-enum-comparison */\n    // helpers for static class methods\n    public static debug(name: string, ...args: unknown[]): void {\n        if (level >= Log.DEBUG) {\n            logger.debug(Logger._format(name), ...args);\n        }\n    }\n    public static info(name: string, ...args: unknown[]): void {\n        if (level >= Log.INFO) {\n            logger.info(Logger._format(name), ...args);\n        }\n    }\n    public static warn(name: string, ...args: unknown[]): void {\n        if (level >= Log.WARN) {\n            logger.warn(Logger._format(name), ...args);\n        }\n    }\n    public static error(name: string, ...args: unknown[]): void {\n        if (level >= Log.ERROR) {\n            logger.error(Logger._format(name), ...args);\n        }\n    }\n    /* eslint-enable @typescript-eslint/no-unsafe-enum-comparison */\n}\n\nLog.reset();\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./Logger\";\n\n/**\n * @internal\n */\nexport type Callback<EventType extends unknown[]> = (...ev: EventType) => (Promise<void> | void);\n\n/**\n * @internal\n */\nexport class Event<EventType extends unknown[]> {\n    protected readonly _logger = new Logger(`Event('${this._name}')`);\n\n    private _callbacks: Array<Callback<EventType>> = [];\n\n    public constructor(protected readonly _name: string) {}\n\n    public addHandler(cb: Callback<EventType>): () => void {\n        this._callbacks.push(cb);\n        return () => this.removeHandler(cb);\n    }\n\n    public removeHandler(cb: Callback<EventType>): void {\n        const idx = this._callbacks.lastIndexOf(cb);\n        if (idx >= 0) {\n            this._callbacks.splice(idx, 1);\n        }\n    }\n\n    public raise(...ev: EventType): void {\n        this._logger.debug(\"raise:\", ...ev);\n        for (const cb of this._callbacks) {\n            void cb(...ev);\n        }\n    }\n}\n","import jwt_decode from \"jwt-decode\";\n\nimport { Logger } from \"./Logger\";\nimport type { JwtClaims } from \"../Claims\";\n\n/**\n * @internal\n */\nexport class JwtUtils {\n    // IMPORTANT: doesn't validate the token\n    public static decode(token: string): JwtClaims {\n        try {\n            return jwt_decode<JwtClaims>(token);\n        }\n        catch (err) {\n            Logger.error(\"JwtUtils.decode\", err);\n            throw err;\n        }\n    }\n}\n","/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/open#window_features\n *\n * @public\n */\nexport interface PopupWindowFeatures {\n    left?: number;\n    top?: number;\n    width?: number;\n    height?: number;\n    menubar?: boolean | string;\n    toolbar?: boolean | string;\n    location?: boolean | string;\n    status?: boolean | string;\n    resizable?: boolean | string;\n    scrollbars?: boolean | string;\n    /** Close popup window after time in seconds, by default it is -1. To enable this feature set value greater than 0 */\n    closePopupWindowAfterInSeconds?: number;\n\n    [k: string]: boolean | string | number | undefined;\n}\n\nexport class PopupUtils {\n    /**\n     * Populates a map of window features with a placement centered in front of\n     * the current window. If no explicit width is given, a default value is\n     * binned into [800, 720, 600, 480, 360] based on the current window's width.\n     */\n    static center({ ...features }: PopupWindowFeatures): PopupWindowFeatures {\n        if (features.width == null)\n            features.width = [800, 720, 600, 480].find(width => width <= window.outerWidth / 1.618) ?? 360;\n        features.left ??= Math.max(0, Math.round(window.screenX + (window.outerWidth - features.width) / 2));\n        if (features.height != null)\n            features.top ??= Math.max(0, Math.round(window.screenY + (window.outerHeight - features.height) / 2));\n        return features;\n    }\n\n    static serialize(features: PopupWindowFeatures): string {\n        return Object.entries(features)\n            .filter(([, value]) => value != null)\n            .map(([key, value]) => `${key}=${typeof value !== \"boolean\" ? value as string : value ? \"yes\" : \"no\"}`)\n            .join(\",\");\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Event } from \"./Event\";\nimport { Logger } from \"./Logger\";\n\n/**\n * @internal\n */\nexport class Timer extends Event<[void]> {\n    protected readonly _logger = new Logger(`Timer('${this._name}')`);\n    private _timerHandle: ReturnType<typeof setInterval> | null = null;\n    private _expiration = 0;\n\n    // get the time\n    public static getEpochTime(): number {\n        return Math.floor(Date.now() / 1000);\n    }\n\n    public init(durationInSeconds: number): void {\n        const logger = this._logger.create(\"init\");\n        durationInSeconds = Math.max(Math.floor(durationInSeconds), 1);\n        const expiration = Timer.getEpochTime() + durationInSeconds;\n        if (this.expiration === expiration && this._timerHandle) {\n            // no need to reinitialize to same expiration, so bail out\n            logger.debug(\"skipping since already initialized for expiration at\", this.expiration);\n            return;\n        }\n\n        this.cancel();\n\n        logger.debug(\"using duration\", durationInSeconds);\n        this._expiration = expiration;\n\n        // we're using a fairly short timer and then checking the expiration in the\n        // callback to handle scenarios where the browser device sleeps, and then\n        // the timers end up getting delayed.\n        const timerDurationInSeconds = Math.min(durationInSeconds, 5);\n        this._timerHandle = setInterval(this._callback, timerDurationInSeconds * 1000);\n    }\n\n    public get expiration(): number {\n        return this._expiration;\n    }\n\n    public cancel(): void {\n        this._logger.create(\"cancel\");\n        if (this._timerHandle) {\n            clearInterval(this._timerHandle);\n            this._timerHandle = null;\n        }\n    }\n\n    protected _callback = (): void => {\n        const diff = this._expiration - Timer.getEpochTime();\n        this._logger.debug(\"timer completes in\", diff);\n\n        if (this._expiration <= Timer.getEpochTime()) {\n            this.cancel();\n            super.raise();\n        }\n    };\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * @internal\n */\nexport class UrlUtils {\n    public static readParams(url: string, responseMode: \"query\" | \"fragment\" = \"query\"): URLSearchParams {\n        if (!url) throw new TypeError(\"Invalid URL\");\n        // the base URL is irrelevant, it's just here to support relative url arguments\n        const parsedUrl = new URL(url, \"http://127.0.0.1\");\n        const params = parsedUrl[responseMode === \"fragment\" ? \"hash\" : \"search\"];\n        return new URLSearchParams(params.slice(1));\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\n\n/**\n * Error class thrown in case of an authentication error.\n *\n * See https://openid.net/specs/openid-connect-core-1_0.html#AuthError\n *\n * @public\n */\nexport class ErrorResponse extends Error {\n    /** Marker to detect class: \"ErrorResponse\" */\n    public readonly name: string = \"ErrorResponse\";\n\n    /** An error code string that can be used to classify the types of errors that occur and to respond to errors. */\n    public readonly error: string | null;\n    /** additional information that can help a developer identify the cause of the error.*/\n    public readonly error_description: string | null;\n    /**\n     * URI identifying a human-readable web page with information about the error, used to provide the client\n       developer with additional information about the error.\n    */\n    public readonly error_uri: string | null;\n\n    /** custom state data set during the initial signin request */\n    public state?: unknown;\n\n    public readonly session_state: string | null;\n\n    public constructor(\n        args: {\n            error?: string | null; error_description?: string | null; error_uri?: string | null;\n            userState?: unknown; session_state?: string | null;\n        },\n        /** The x-www-form-urlencoded request body sent to the authority server */\n        public readonly form?: URLSearchParams,\n    ) {\n        super(args.error_description || args.error || \"\");\n\n        if (!args.error) {\n            Logger.error(\"ErrorResponse\", \"No error passed\");\n            throw new Error(\"No error passed\");\n        }\n\n        this.error = args.error;\n        this.error_description = args.error_description ?? null;\n        this.error_uri = args.error_uri ?? null;\n\n        this.state = args.userState;\n        this.session_state = args.session_state ?? null;\n    }\n}\n","// Copyright (C) 2021 AuthTS Contributors\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * Error class thrown in case of network timeouts (e.g IFrame time out).\n *\n * @public\n */\nexport class ErrorTimeout extends Error {\n    /** Marker to detect class: \"ErrorTimeout\" */\n    public readonly name: string = \"ErrorTimeout\";\n\n    public constructor(message?: string) {\n        super(message);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Timer } from \"./utils\";\nimport type { User } from \"./User\";\n\n/**\n * @public\n */\nexport type AccessTokenCallback = (...ev: unknown[]) => (Promise<void> | void);\n\n/**\n * @public\n */\nexport class AccessTokenEvents {\n    protected readonly _logger = new Logger(\"AccessTokenEvents\");\n\n    private readonly _expiringTimer = new Timer(\"Access token expiring\");\n    private readonly _expiredTimer = new Timer(\"Access token expired\");\n    private readonly _expiringNotificationTimeInSeconds: number;\n\n    public constructor(args: { expiringNotificationTimeInSeconds: number }) {\n        this._expiringNotificationTimeInSeconds = args.expiringNotificationTimeInSeconds;\n    }\n\n    public load(container: User): void {\n        const logger = this._logger.create(\"load\");\n        // only register events if there's an access token and it has an expiration\n        if (container.access_token && container.expires_in !== undefined) {\n            const duration = container.expires_in;\n            logger.debug(\"access token present, remaining duration:\", duration);\n\n            if (duration > 0) {\n                // only register expiring if we still have time\n                let expiring = duration - this._expiringNotificationTimeInSeconds;\n                if (expiring <= 0) {\n                    expiring = 1;\n                }\n\n                logger.debug(\"registering expiring timer, raising in\", expiring, \"seconds\");\n                this._expiringTimer.init(expiring);\n            }\n            else {\n                logger.debug(\"canceling existing expiring timer because we're past expiration.\");\n                this._expiringTimer.cancel();\n            }\n\n            // if it's negative, it will still fire\n            const expired = duration + 1;\n            logger.debug(\"registering expired timer, raising in\", expired, \"seconds\");\n            this._expiredTimer.init(expired);\n        }\n        else {\n            this._expiringTimer.cancel();\n            this._expiredTimer.cancel();\n        }\n    }\n\n    public unload(): void {\n        this._logger.debug(\"unload: canceling existing access token timers\");\n        this._expiringTimer.cancel();\n        this._expiredTimer.cancel();\n    }\n\n    /**\n     * Add callback: Raised prior to the access token expiring.\n     */\n    public addAccessTokenExpiring(cb: AccessTokenCallback): () => void {\n        return this._expiringTimer.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised prior to the access token expiring.\n     */\n    public removeAccessTokenExpiring(cb: AccessTokenCallback): void {\n        this._expiringTimer.removeHandler(cb);\n    }\n\n    /**\n     * Add callback: Raised after the access token has expired.\n     */\n    public addAccessTokenExpired(cb: AccessTokenCallback): () => void {\n        return this._expiredTimer.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised after the access token has expired.\n     */\n    public removeAccessTokenExpired(cb: AccessTokenCallback): void {\n        this._expiredTimer.removeHandler(cb);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\n\n/**\n * @internal\n */\nexport class CheckSessionIFrame {\n    private readonly _logger = new Logger(\"CheckSessionIFrame\");\n    private _frame_origin: string;\n    private _frame: HTMLIFrameElement;\n    private _timer: ReturnType<typeof setInterval> | null = null;\n    private _session_state: string | null = null;\n\n    public constructor(\n        private _callback: () => Promise<void>,\n        private _client_id: string,\n        url: string,\n        private _intervalInSeconds: number,\n        private _stopOnError: boolean,\n    ) {\n        const parsedUrl = new URL(url);\n        this._frame_origin = parsedUrl.origin;\n\n        this._frame = window.document.createElement(\"iframe\");\n\n        // shotgun approach\n        this._frame.style.visibility = \"hidden\";\n        this._frame.style.position = \"fixed\";\n        this._frame.style.left = \"-1000px\";\n        this._frame.style.top = \"0\";\n        this._frame.width = \"0\";\n        this._frame.height = \"0\";\n        this._frame.src = parsedUrl.href;\n    }\n\n    public load(): Promise<void> {\n        return new Promise<void>((resolve) => {\n            this._frame.onload = () => {\n                resolve();\n            };\n\n            window.document.body.appendChild(this._frame);\n            window.addEventListener(\"message\", this._message, false);\n        });\n    }\n\n    private _message = (e: MessageEvent<string>): void => {\n        if (e.origin === this._frame_origin &&\n            e.source === this._frame.contentWindow\n        ) {\n            if (e.data === \"error\") {\n                this._logger.error(\"error message from check session op iframe\");\n                if (this._stopOnError) {\n                    this.stop();\n                }\n            }\n            else if (e.data === \"changed\") {\n                this._logger.debug(\"changed message from check session op iframe\");\n                this.stop();\n                void this._callback();\n            }\n            else {\n                this._logger.debug(e.data + \" message from check session op iframe\");\n            }\n        }\n    };\n\n    public start(session_state: string): void {\n        if (this._session_state === session_state) {\n            return;\n        }\n\n        this._logger.create(\"start\");\n\n        this.stop();\n\n        this._session_state = session_state;\n\n        const send = () => {\n            if (!this._frame.contentWindow || !this._session_state) {\n                return;\n            }\n\n            this._frame.contentWindow.postMessage(this._client_id + \" \" + this._session_state, this._frame_origin);\n        };\n\n        // trigger now\n        send();\n\n        // and setup timer\n        this._timer = setInterval(send, this._intervalInSeconds * 1000);\n    }\n\n    public stop(): void {\n        this._logger.create(\"stop\");\n        this._session_state = null;\n\n        if (this._timer) {\n\n            clearInterval(this._timer);\n            this._timer = null;\n        }\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\n\n/**\n * @public\n */\nexport class InMemoryWebStorage implements Storage {\n    private readonly _logger = new Logger(\"InMemoryWebStorage\");\n    private _data: Record<string, string> = {};\n\n    public clear(): void {\n        this._logger.create(\"clear\");\n        this._data = {};\n    }\n\n    public getItem(key: string): string {\n        this._logger.create(`getItem('${key}')`);\n        return this._data[key];\n    }\n\n    public setItem(key: string, value: string): void {\n        this._logger.create(`setItem('${key}')`);\n        this._data[key] = value;\n    }\n\n    public removeItem(key: string): void {\n        this._logger.create(`removeItem('${key}')`);\n        delete this._data[key];\n    }\n\n    public get length(): number {\n        return Object.getOwnPropertyNames(this._data).length;\n    }\n\n    public key(index: number): string {\n        return Object.getOwnPropertyNames(this._data)[index];\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { ErrorResponse, ErrorTimeout } from \"./errors\";\nimport type { ExtraHeader } from \"./OidcClientSettings\";\nimport { Logger } from \"./utils\";\n\n/**\n * @internal\n */\nexport type JwtHandler = (text: string) => Promise<Record<string, unknown>>;\n\n/**\n * @internal\n */\nexport interface GetJsonOpts {\n    token?: string;\n    credentials?: RequestCredentials;\n}\n\n/**\n * @internal\n */\nexport interface PostFormOpts {\n    body: URLSearchParams;\n    basicAuth?: string;\n    timeoutInSeconds?: number;\n    initCredentials?: \"same-origin\" | \"include\" | \"omit\";\n}\n\n/**\n * @internal\n */\nexport class JsonService {\n    private readonly _logger = new Logger(\"JsonService\");\n\n    private _contentTypes: string[] = [];\n\n    public constructor(\n        additionalContentTypes: string[] = [],\n        private _jwtHandler: JwtHandler | null = null,\n        private _extraHeaders: Record<string, ExtraHeader> = {},\n    ) {\n        this._contentTypes.push(...additionalContentTypes, \"application/json\");\n        if (_jwtHandler) {\n            this._contentTypes.push(\"application/jwt\");\n        }\n    }\n\n    protected async fetchWithTimeout(input: RequestInfo, init: RequestInit & { timeoutInSeconds?: number } = {}) {\n        const { timeoutInSeconds, ...initFetch } = init;\n        if (!timeoutInSeconds) {\n            return await fetch(input, initFetch);\n        }\n\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), timeoutInSeconds * 1000);\n\n        try {\n            const response = await fetch(input, {\n                ...init,\n                signal: controller.signal,\n            });\n            return response;\n        }\n        catch (err) {\n            if (err instanceof DOMException && err.name === \"AbortError\") {\n                throw new ErrorTimeout(\"Network timed out\");\n            }\n            throw err;\n        }\n        finally {\n            clearTimeout(timeoutId);\n        }\n    }\n\n    public async getJson(url: string, {\n        token,\n        credentials,\n    }: GetJsonOpts = {}): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"getJson\");\n        const headers: HeadersInit = {\n            \"Accept\": this._contentTypes.join(\", \"),\n        };\n        if (token) {\n            logger.debug(\"token passed, setting Authorization header\");\n            headers[\"Authorization\"] = \"Bearer \" + token;\n        }\n\n        this.appendExtraHeaders(headers);\n\n        let response: Response;\n        try {\n            logger.debug(\"url:\", url);\n            response = await this.fetchWithTimeout(url, { method: \"GET\", headers, credentials });\n        }\n        catch (err) {\n            logger.error(\"Network Error\");\n            throw err;\n        }\n\n        logger.debug(\"HTTP response received, status\", response.status);\n        const contentType = response.headers.get(\"Content-Type\");\n        if (contentType && !this._contentTypes.find(item => contentType.startsWith(item))) {\n            logger.throw(new Error(`Invalid response Content-Type: ${(contentType ?? \"undefined\")}, from URL: ${url}`));\n        }\n        if (response.ok && this._jwtHandler && contentType?.startsWith(\"application/jwt\")) {\n            return await this._jwtHandler(await response.text());\n        }\n        let json: Record<string, unknown>;\n        try {\n            json = await response.json();\n        }\n        catch (err) {\n            logger.error(\"Error parsing JSON response\", err);\n            if (response.ok) throw err;\n            throw new Error(`${response.statusText} (${response.status})`);\n        }\n        if (!response.ok) {\n            logger.error(\"Error from server:\", json);\n            if (json.error) {\n                throw new ErrorResponse(json);\n            }\n            throw new Error(`${response.statusText} (${response.status}): ${JSON.stringify(json)}`);\n        }\n        return json;\n    }\n\n    public async postForm(url: string, {\n        body,\n        basicAuth,\n        timeoutInSeconds,\n        initCredentials,\n    }: PostFormOpts): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"postForm\");\n        const headers: HeadersInit = {\n            \"Accept\": this._contentTypes.join(\", \"),\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n        };\n        if (basicAuth !== undefined) {\n            headers[\"Authorization\"] = \"Basic \" + basicAuth;\n        }\n\n        this.appendExtraHeaders(headers);\n\n        let response: Response;\n        try {\n            logger.debug(\"url:\", url);\n            response = await this.fetchWithTimeout(url, { method: \"POST\", headers, body, timeoutInSeconds, credentials: initCredentials });\n        }\n        catch (err) {\n            logger.error(\"Network error\");\n            throw err;\n        }\n\n        logger.debug(\"HTTP response received, status\", response.status);\n        const contentType = response.headers.get(\"Content-Type\");\n        if (contentType && !this._contentTypes.find(item => contentType.startsWith(item))) {\n            throw new Error(`Invalid response Content-Type: ${(contentType ?? \"undefined\")}, from URL: ${url}`);\n        }\n\n        const responseText = await response.text();\n\n        let json: Record<string, unknown> = {};\n        if (responseText) {\n            try {\n                json = JSON.parse(responseText);\n            }\n            catch (err) {\n                logger.error(\"Error parsing JSON response\", err);\n                if (response.ok) throw err;\n                throw new Error(`${response.statusText} (${response.status})`);\n            }\n        }\n\n        if (!response.ok) {\n            logger.error(\"Error from server:\", json);\n            if (json.error) {\n                throw new ErrorResponse(json, body);\n            }\n            throw new Error(`${response.statusText} (${response.status}): ${JSON.stringify(json)}`);\n        }\n\n        return json;\n    }\n\n    private appendExtraHeaders(\n        headers: Record<string, string>,\n    ): void {\n        const logger = this._logger.create(\"appendExtraHeaders\");\n        const customKeys = Object.keys(this._extraHeaders);\n        const protectedHeaders = [\n            \"authorization\",\n            \"accept\",\n            \"content-type\",\n        ];\n        if (customKeys.length === 0) {\n            return;\n        }\n        customKeys.forEach((headerName) => {\n            if (protectedHeaders.includes(headerName.toLocaleLowerCase())) {\n                logger.warn(\"Protected header could not be overridden\", headerName, protectedHeaders);\n                return;\n            }\n            const content = (typeof this._extraHeaders[headerName] === \"function\") ?\n                (this._extraHeaders[headerName] as ()=>string)() :\n                this._extraHeaders[headerName];\n            if (content && content !== \"\") {\n                headers[headerName] = content as string;\n            }\n        });\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { JsonService } from \"./JsonService\";\nimport type { OidcClientSettingsStore, SigningKey } from \"./OidcClientSettings\";\nimport type { OidcMetadata } from \"./OidcMetadata\";\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata\n */\nexport class MetadataService {\n    private readonly _logger = new Logger(\"MetadataService\");\n    private readonly _jsonService;\n\n    // cache\n    private _metadataUrl: string;\n    private _signingKeys: SigningKey[] | null = null;\n    private _metadata: Partial<OidcMetadata> | null = null;\n    private _fetchRequestCredentials: RequestCredentials | undefined;\n\n    public constructor(private readonly _settings: OidcClientSettingsStore) {\n        this._metadataUrl = this._settings.metadataUrl;\n        this._jsonService = new JsonService(\n            [\"application/jwk-set+json\"],\n            null,\n            this._settings.extraHeaders,\n        );\n        if (this._settings.signingKeys) {\n            this._logger.debug(\"using signingKeys from settings\");\n            this._signingKeys = this._settings.signingKeys;\n        }\n\n        if (this._settings.metadata) {\n            this._logger.debug(\"using metadata from settings\");\n            this._metadata = this._settings.metadata;\n        }\n\n        if (this._settings.fetchRequestCredentials) {\n            this._logger.debug(\"using fetchRequestCredentials from settings\");\n            this._fetchRequestCredentials = this._settings.fetchRequestCredentials;\n        }\n    }\n\n    public resetSigningKeys(): void {\n        this._signingKeys = null;\n    }\n\n    public async getMetadata(): Promise<Partial<OidcMetadata>> {\n        const logger = this._logger.create(\"getMetadata\");\n        if (this._metadata) {\n            logger.debug(\"using cached values\");\n            return this._metadata;\n        }\n\n        if (!this._metadataUrl) {\n            logger.throw(new Error(\"No authority or metadataUrl configured on settings\"));\n            throw null;\n        }\n\n        logger.debug(\"getting metadata from\", this._metadataUrl);\n        const metadata = await this._jsonService.getJson(this._metadataUrl, { credentials: this._fetchRequestCredentials });\n\n        logger.debug(\"merging remote JSON with seed metadata\");\n        this._metadata = Object.assign({}, this._settings.metadataSeed, metadata);\n        return this._metadata;\n    }\n\n    public getIssuer(): Promise<string> {\n        return this._getMetadataProperty(\"issuer\") as Promise<string>;\n    }\n\n    public getAuthorizationEndpoint(): Promise<string> {\n        return this._getMetadataProperty(\"authorization_endpoint\") as Promise<string>;\n    }\n\n    public getUserInfoEndpoint(): Promise<string> {\n        return this._getMetadataProperty(\"userinfo_endpoint\") as Promise<string>;\n    }\n\n    public getTokenEndpoint(optional: false): Promise<string>;\n    public getTokenEndpoint(optional?: true): Promise<string | undefined>;\n    public getTokenEndpoint(optional = true): Promise<string | undefined> {\n        return this._getMetadataProperty(\"token_endpoint\", optional) as Promise<string | undefined>;\n    }\n\n    public getCheckSessionIframe(): Promise<string | undefined> {\n        return this._getMetadataProperty(\"check_session_iframe\", true) as Promise<string | undefined>;\n    }\n\n    public getEndSessionEndpoint(): Promise<string | undefined> {\n        return this._getMetadataProperty(\"end_session_endpoint\", true) as Promise<string | undefined>;\n    }\n\n    public getRevocationEndpoint(optional: false): Promise<string>;\n    public getRevocationEndpoint(optional?: true): Promise<string | undefined>;\n    public getRevocationEndpoint(optional = true): Promise<string | undefined> {\n        return this._getMetadataProperty(\"revocation_endpoint\", optional) as Promise<string | undefined>;\n    }\n\n    public getKeysEndpoint(optional: false): Promise<string>;\n    public getKeysEndpoint(optional?: true): Promise<string | undefined>;\n    public getKeysEndpoint(optional = true): Promise<string | undefined> {\n        return this._getMetadataProperty(\"jwks_uri\", optional) as Promise<string | undefined>;\n    }\n\n    protected async _getMetadataProperty(name: keyof OidcMetadata, optional=false): Promise<string | boolean | string[] | undefined> {\n        const logger = this._logger.create(`_getMetadataProperty('${name}')`);\n\n        const metadata = await this.getMetadata();\n        logger.debug(\"resolved\");\n\n        if (metadata[name] === undefined) {\n            if (optional === true) {\n                logger.warn(\"Metadata does not contain optional property\");\n                return undefined;\n            }\n\n            logger.throw(new Error(\"Metadata does not contain property \" + name));\n        }\n\n        return metadata[name];\n    }\n\n    public async getSigningKeys(): Promise<SigningKey[] | null> {\n        const logger = this._logger.create(\"getSigningKeys\");\n        if (this._signingKeys) {\n            logger.debug(\"returning signingKeys from cache\");\n            return this._signingKeys;\n        }\n\n        const jwks_uri = await this.getKeysEndpoint(false);\n        logger.debug(\"got jwks_uri\", jwks_uri);\n\n        const keySet = await this._jsonService.getJson(jwks_uri);\n        logger.debug(\"got key set\", keySet);\n\n        if (!Array.isArray(keySet.keys)) {\n            logger.throw(new Error(\"Missing keys on keyset\"));\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        this._signingKeys = keySet.keys;\n        return this._signingKeys;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport type { StateStore } from \"./StateStore\";\nimport type { AsyncStorage } from \"./AsyncStorage\";\n\n/**\n * @public\n */\nexport class WebStorageStateStore implements StateStore {\n    private readonly _logger = new Logger(\"WebStorageStateStore\");\n\n    private readonly _store: AsyncStorage | Storage;\n    private readonly _prefix: string;\n\n    public constructor({\n        prefix = \"oidc.\",\n        store = localStorage,\n    }: { prefix?: string; store?: AsyncStorage | Storage } = {}) {\n        this._store = store;\n        this._prefix = prefix;\n    }\n\n    public async set(key: string, value: string): Promise<void> {\n        this._logger.create(`set('${key}')`);\n\n        key = this._prefix + key;\n        await this._store.setItem(key, value);\n    }\n\n    public async get(key: string): Promise<string | null> {\n        this._logger.create(`get('${key}')`);\n\n        key = this._prefix + key;\n        const item = await this._store.getItem(key);\n        return item;\n    }\n\n    public async remove(key: string): Promise<string | null> {\n        this._logger.create(`remove('${key}')`);\n\n        key = this._prefix + key;\n        const item = await this._store.getItem(key);\n        await this._store.removeItem(key);\n        return item;\n    }\n\n    public async getAllKeys(): Promise<string[]> {\n        this._logger.create(\"getAllKeys\");\n        const len = await this._store.length;\n\n        const keys = [];\n        for (let index = 0; index < len; index++) {\n            const key = await this._store.key(index);\n            if (key && key.indexOf(this._prefix) === 0) {\n                keys.push(key.substr(this._prefix.length));\n            }\n        }\n        return keys;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { WebStorageStateStore } from \"./WebStorageStateStore\";\nimport type { OidcMetadata } from \"./OidcMetadata\";\nimport type { StateStore } from \"./StateStore\";\nimport { InMemoryWebStorage } from \"./InMemoryWebStorage\";\n\nconst DefaultResponseType = \"code\";\nconst DefaultScope = \"openid\";\nconst DefaultClientAuthentication = \"client_secret_post\";\nconst DefaultResponseMode = \"query\";\nconst DefaultStaleStateAgeInSeconds = 60 * 15;\nconst DefaultClockSkewInSeconds = 60 * 5;\n\n/**\n * @public\n */\nexport type SigningKey = Record<string, string | string[]>;\n\n/**\n * @public\n */\nexport type ExtraHeader = string | (() => string);\n\n/**\n * The settings used to configure the {@link OidcClient}.\n *\n * @public\n */\nexport interface OidcClientSettings {\n    /** The URL of the OIDC/OAuth2 provider */\n    authority: string;\n    metadataUrl?: string;\n    /** Provide metadata when authority server does not allow CORS on the metadata endpoint */\n    metadata?: Partial<OidcMetadata>;\n    /** Can be used to seed or add additional values to the results of the discovery request */\n    metadataSeed?: Partial<OidcMetadata>;\n    /** Provide signingKeys when authority server does not allow CORS on the jwks uri */\n    signingKeys?: SigningKey[];\n\n    /** Your client application's identifier as registered with the OIDC/OAuth2 */\n    client_id: string;\n    client_secret?: string;\n    /** The type of response desired from the OIDC/OAuth2 provider (default: \"code\") */\n    response_type?: string;\n    /** The scope being requested from the OIDC/OAuth2 provider (default: \"openid\") */\n    scope?: string;\n    /** The redirect URI of your client application to receive a response from the OIDC/OAuth2 provider */\n    redirect_uri: string;\n    /** The OIDC/OAuth2 post-logout redirect URI */\n    post_logout_redirect_uri?: string;\n\n    /**\n     * Client authentication method that is used to authenticate when using the token endpoint (default: \"client_secret_post\")\n     * - \"client_secret_basic\": using the HTTP Basic authentication scheme\n     * - \"client_secret_post\": including the client credentials in the request body\n     *\n     * See https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication\n     */\n    client_authentication?: \"client_secret_basic\" | \"client_secret_post\";\n\n    /** optional protocol param */\n    prompt?: string;\n    /** optional protocol param */\n    display?: string;\n    /** optional protocol param */\n    max_age?: number;\n    /** optional protocol param */\n    ui_locales?: string;\n    /** optional protocol param */\n    acr_values?: string;\n    /** optional protocol param */\n    resource?: string | string[];\n\n    /** optional protocol param (default: \"query\") */\n    response_mode?: \"query\" | \"fragment\";\n\n    /**\n     * Should optional OIDC protocol claims be removed from profile or specify the ones to be removed (default: true)\n     * When true, the following claims are removed by default: [\"nbf\", \"jti\", \"auth_time\", \"nonce\", \"acr\", \"amr\", \"azp\", \"at_hash\"]\n     * When specifying claims, the following claims are not allowed: [\"sub\", \"iss\", \"aud\", \"exp\", \"iat\"]\n    */\n    filterProtocolClaims?: boolean | string[];\n    /** Flag to control if additional identity data is loaded from the user info endpoint in order to populate the user's profile (default: false) */\n    loadUserInfo?: boolean;\n    /** Number (in seconds) indicating the age of state entries in storage for authorize requests that are considered abandoned and thus can be cleaned up (default: 900) */\n    staleStateAgeInSeconds?: number;\n\n    /** @deprecated Unused */\n    clockSkewInSeconds?: number;\n    /** @deprecated Unused */\n    userInfoJwtIssuer?: /*\"ANY\" | \"OP\" |*/ string;\n\n    /**\n     * Indicates if objects returned from the user info endpoint as claims (e.g. `address`) are merged into the claims from the id token as a single object.\n     * Otherwise, they are added to an array as distinct objects for the claim type. (default: false)\n     */\n    mergeClaims?: boolean;\n\n    /**\n     * Storage object used to persist interaction state (default: window.localStorage, InMemoryWebStorage iff no window).\n     * E.g. `stateStore: new WebStorageStateStore({ store: window.localStorage })`\n     */\n    stateStore?: StateStore;\n\n    /**\n     * An object containing additional query string parameters to be including in the authorization request.\n     * E.g, when using Azure AD to obtain an access token an additional resource parameter is required. extraQueryParams: `{resource:\"some_identifier\"}`\n     */\n    extraQueryParams?: Record<string, string | number | boolean>;\n\n    extraTokenParams?: Record<string, unknown>;\n\n    /**\n     * An object containing additional header to be including in request.\n     */\n    extraHeaders?: Record<string, ExtraHeader>;\n\n    /**\n     * @deprecated since version 2.1.0. Use fetchRequestCredentials instead.\n     */\n    refreshTokenCredentials?: \"same-origin\" | \"include\" | \"omit\";\n\n    /**\n     * Will check the content type header of the response of the revocation endpoint to match these passed values (default: [])\n     */\n    revokeTokenAdditionalContentTypes?: string[];\n    /**\n     * Will disable pkce validation, changing to true will not append to sign in request code_challenge and code_challenge_method. (default: false)\n     */\n    disablePKCE?: boolean;\n    /**\n     * Sets the credentials for fetch requests. (default: \"same-origin\")\n     * Use this if you need to send cookies to the OIDC/OAuth2 provider or if you are using a proxy that requires cookies\n     */\n    fetchRequestCredentials?: RequestCredentials;\n\n    /**\n     * Only scopes in this list will be passed in the token refresh request.\n     */\n    refreshTokenAllowedScope?: string | undefined;\n}\n\n/**\n * The settings with defaults applied of the {@link OidcClient}.\n * @see {@link OidcClientSettings}\n *\n * @public\n */\nexport class OidcClientSettingsStore {\n    // metadata\n    public readonly authority: string;\n    public readonly metadataUrl: string;\n    public readonly metadata: Partial<OidcMetadata> | undefined;\n    public readonly metadataSeed: Partial<OidcMetadata> | undefined;\n    public readonly signingKeys: SigningKey[] | undefined;\n\n    // client config\n    public readonly client_id: string;\n    public readonly client_secret: string | undefined;\n    public readonly response_type: string;\n    public readonly scope: string;\n    public readonly redirect_uri: string;\n    public readonly post_logout_redirect_uri: string | undefined;\n    public readonly client_authentication: \"client_secret_basic\" | \"client_secret_post\";\n\n    // optional protocol params\n    public readonly prompt: string | undefined;\n    public readonly display: string | undefined;\n    public readonly max_age: number | undefined;\n    public readonly ui_locales: string | undefined;\n    public readonly acr_values: string | undefined;\n    public readonly resource: string | string[] | undefined;\n    public readonly response_mode: \"query\" | \"fragment\";\n\n    // behavior flags\n    public readonly filterProtocolClaims: boolean | string[];\n    public readonly loadUserInfo: boolean;\n    public readonly staleStateAgeInSeconds: number;\n    public readonly clockSkewInSeconds: number;\n    public readonly userInfoJwtIssuer: /*\"ANY\" | \"OP\" |*/ string;\n    public readonly mergeClaims: boolean;\n\n    public readonly stateStore: StateStore;\n\n    // extra\n    public readonly extraQueryParams: Record<string, string | number | boolean>;\n    public readonly extraTokenParams: Record<string, unknown>;\n    public readonly extraHeaders: Record<string, ExtraHeader>;\n\n    public readonly revokeTokenAdditionalContentTypes?: string[];\n    public readonly fetchRequestCredentials: RequestCredentials;\n    public readonly refreshTokenAllowedScope: string | undefined;\n    public readonly disablePKCE: boolean;\n\n    public constructor({\n        // metadata related\n        authority, metadataUrl, metadata, signingKeys, metadataSeed,\n        // client related\n        client_id, client_secret, response_type = DefaultResponseType, scope = DefaultScope,\n        redirect_uri, post_logout_redirect_uri,\n        client_authentication = DefaultClientAuthentication,\n        // optional protocol\n        prompt, display, max_age, ui_locales, acr_values, resource, response_mode = DefaultResponseMode,\n        // behavior flags\n        filterProtocolClaims = true,\n        loadUserInfo = false,\n        staleStateAgeInSeconds = DefaultStaleStateAgeInSeconds,\n        clockSkewInSeconds = DefaultClockSkewInSeconds,\n        userInfoJwtIssuer = \"OP\",\n        mergeClaims = false,\n        disablePKCE = false,\n        // other behavior\n        stateStore,\n        refreshTokenCredentials,\n        revokeTokenAdditionalContentTypes,\n        fetchRequestCredentials,\n        refreshTokenAllowedScope,\n        // extra\n        extraQueryParams = {},\n        extraTokenParams = {},\n        extraHeaders = {},\n    }: OidcClientSettings) {\n\n        this.authority = authority;\n\n        if (metadataUrl) {\n            this.metadataUrl = metadataUrl;\n        } else {\n            this.metadataUrl = authority;\n            if (authority) {\n                if (!this.metadataUrl.endsWith(\"/\")) {\n                    this.metadataUrl += \"/\";\n                }\n                this.metadataUrl += \".well-known/openid-configuration\";\n            }\n        }\n\n        this.metadata = metadata;\n        this.metadataSeed = metadataSeed;\n        this.signingKeys = signingKeys;\n\n        this.client_id = client_id;\n        this.client_secret = client_secret;\n        this.response_type = response_type;\n        this.scope = scope;\n        this.redirect_uri = redirect_uri;\n        this.post_logout_redirect_uri = post_logout_redirect_uri;\n        this.client_authentication = client_authentication;\n\n        this.prompt = prompt;\n        this.display = display;\n        this.max_age = max_age;\n        this.ui_locales = ui_locales;\n        this.acr_values = acr_values;\n        this.resource = resource;\n        this.response_mode = response_mode;\n\n        this.filterProtocolClaims = filterProtocolClaims ?? true;\n        this.loadUserInfo = !!loadUserInfo;\n        this.staleStateAgeInSeconds = staleStateAgeInSeconds;\n        this.clockSkewInSeconds = clockSkewInSeconds;\n        this.userInfoJwtIssuer = userInfoJwtIssuer;\n        this.mergeClaims = !!mergeClaims;\n        this.disablePKCE = !!disablePKCE;\n        this.revokeTokenAdditionalContentTypes = revokeTokenAdditionalContentTypes;\n\n        if (fetchRequestCredentials && refreshTokenCredentials) {\n            console.warn(\"Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used.\");\n        }\n        this.fetchRequestCredentials = fetchRequestCredentials ? fetchRequestCredentials\n            : refreshTokenCredentials ? refreshTokenCredentials : \"same-origin\";\n\n        if (stateStore) {\n            this.stateStore = stateStore;\n        }\n        else {\n            const store = typeof window !== \"undefined\" ? window.localStorage : new InMemoryWebStorage();\n            this.stateStore = new WebStorageStateStore({ store });\n        }\n\n        this.refreshTokenAllowedScope = refreshTokenAllowedScope;\n\n        this.extraQueryParams = extraQueryParams;\n        this.extraTokenParams = extraTokenParams;\n        this.extraHeaders = extraHeaders;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, JwtUtils } from \"./utils\";\nimport { JsonService } from \"./JsonService\";\nimport type { MetadataService } from \"./MetadataService\";\nimport type { JwtClaims } from \"./Claims\";\nimport type { OidcClientSettingsStore } from \"./OidcClientSettings\";\n\n/**\n * @internal\n */\nexport class UserInfoService {\n    protected readonly _logger = new Logger(\"UserInfoService\");\n    private readonly _jsonService: JsonService;\n\n    public constructor(private readonly _settings: OidcClientSettingsStore,\n        private readonly _metadataService: MetadataService,\n    ) {\n        this._jsonService = new JsonService(\n            undefined,\n            this._getClaimsFromJwt,\n            this._settings.extraHeaders,\n        );\n    }\n\n    public async getClaims(token: string): Promise<JwtClaims> {\n        const logger = this._logger.create(\"getClaims\");\n        if (!token) {\n            this._logger.throw(new Error(\"No token passed\"));\n        }\n\n        const url = await this._metadataService.getUserInfoEndpoint();\n        logger.debug(\"got userinfo url\", url);\n\n        const claims = await this._jsonService.getJson(url, {\n            token,\n            credentials: this._settings.fetchRequestCredentials,\n        });\n        logger.debug(\"got claims\", claims);\n\n        return claims;\n    }\n\n    protected _getClaimsFromJwt = async (responseText: string): Promise<JwtClaims> => {\n        const logger = this._logger.create(\"_getClaimsFromJwt\");\n        try {\n            const payload = JwtUtils.decode(responseText);\n            logger.debug(\"JWT decoding successful\");\n\n            return payload;\n        } catch (err) {\n            logger.error(\"Error parsing JWT response\");\n            throw err;\n        }\n    };\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { CryptoUtils, Logger } from \"./utils\";\nimport { JsonService } from \"./JsonService\";\nimport type { MetadataService } from \"./MetadataService\";\nimport type { OidcClientSettingsStore } from \"./OidcClientSettings\";\n\n/**\n * @internal\n */\nexport interface ExchangeCodeArgs {\n    client_id?: string;\n    client_secret?: string;\n    redirect_uri?: string;\n\n    grant_type?: string;\n    code: string;\n    code_verifier?: string;\n}\n\n/**\n * @internal\n */\nexport interface ExchangeCredentialsArgs {\n    client_id?: string;\n    client_secret?: string;\n\n    grant_type?: string;\n    scope?: string;\n\n    username: string;\n    password: string;\n}\n\n/**\n * @internal\n */\nexport interface ExchangeRefreshTokenArgs {\n    client_id?: string;\n    client_secret?: string;\n\n    grant_type?: string;\n    refresh_token: string;\n    scope?: string;\n    resource?: string | string[];\n\n    timeoutInSeconds?: number;\n}\n\n/**\n * @internal\n */\nexport interface RevokeArgs {\n    token: string;\n    token_type_hint?: \"access_token\" | \"refresh_token\";\n}\n\n/**\n * @internal\n */\nexport class TokenClient {\n    private readonly _logger = new Logger(\"TokenClient\");\n    private readonly _jsonService;\n\n    public constructor(\n        private readonly _settings: OidcClientSettingsStore,\n        private readonly _metadataService: MetadataService,\n    ) {\n        this._jsonService = new JsonService(\n            this._settings.revokeTokenAdditionalContentTypes,\n            null,\n            this._settings.extraHeaders,\n        );\n    }\n\n    /**\n     * Exchange code.\n     *\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3\n     */\n    public async exchangeCode({\n        grant_type = \"authorization_code\",\n        redirect_uri = this._settings.redirect_uri,\n        client_id = this._settings.client_id,\n        client_secret = this._settings.client_secret,\n        ...args\n    }: ExchangeCodeArgs): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"exchangeCode\");\n        if (!client_id) {\n            logger.throw(new Error(\"A client_id is required\"));\n        }\n        if (!redirect_uri) {\n            logger.throw(new Error(\"A redirect_uri is required\"));\n        }\n        if (!args.code) {\n            logger.throw(new Error(\"A code is required\"));\n        }\n\n        const params = new URLSearchParams({ grant_type, redirect_uri });\n        for (const [key, value] of Object.entries(args)) {\n            if (value != null) {\n                params.set(key, value);\n            }\n        }\n        let basicAuth: string | undefined;\n        switch (this._settings.client_authentication) {\n            case \"client_secret_basic\":\n                if (!client_secret) {\n                    logger.throw(new Error(\"A client_secret is required\"));\n                    throw null; // https://github.com/microsoft/TypeScript/issues/46972\n                }\n                basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n                break;\n            case \"client_secret_post\":\n                params.append(\"client_id\", client_id);\n                if (client_secret) {\n                    params.append(\"client_secret\", client_secret);\n                }\n                break;\n        }\n\n        const url = await this._metadataService.getTokenEndpoint(false);\n        logger.debug(\"got token endpoint\");\n\n        const response = await this._jsonService.postForm(url, { body: params, basicAuth, initCredentials: this._settings.fetchRequestCredentials });\n        logger.debug(\"got response\");\n\n        return response;\n    }\n\n    /**\n     * Exchange credentials.\n     *\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.3.2\n     */\n    public async exchangeCredentials({\n        grant_type = \"password\",\n        client_id = this._settings.client_id,\n        client_secret = this._settings.client_secret,\n        scope = this._settings.scope,\n        ...args\n    }: ExchangeCredentialsArgs): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"exchangeCredentials\");\n\n        if (!client_id) {\n            logger.throw(new Error(\"A client_id is required\"));\n        }\n\n        const params = new URLSearchParams({ grant_type, scope });\n        for (const [key, value] of Object.entries(args)) {\n            if (value != null) {\n                params.set(key, value);\n            }\n        }\n\n        let basicAuth: string | undefined;\n        switch (this._settings.client_authentication) {\n            case \"client_secret_basic\":\n                if (!client_secret) {\n                    logger.throw(new Error(\"A client_secret is required\"));\n                    throw null; // https://github.com/microsoft/TypeScript/issues/46972\n                }\n                basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n                break;\n            case \"client_secret_post\":\n                params.append(\"client_id\", client_id);\n                if (client_secret) {\n                    params.append(\"client_secret\", client_secret);\n                }\n                break;\n        }\n\n        const url = await this._metadataService.getTokenEndpoint(false);\n        logger.debug(\"got token endpoint\");\n\n        const response = await this._jsonService.postForm(url, { body: params, basicAuth, initCredentials: this._settings.fetchRequestCredentials });\n        logger.debug(\"got response\");\n\n        return response;\n    }\n\n    /**\n     * Exchange a refresh token.\n     *\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-6\n     */\n    public async exchangeRefreshToken({\n        grant_type = \"refresh_token\",\n        client_id = this._settings.client_id,\n        client_secret = this._settings.client_secret,\n        timeoutInSeconds,\n        ...args\n    }: ExchangeRefreshTokenArgs): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"exchangeRefreshToken\");\n        if (!client_id) {\n            logger.throw(new Error(\"A client_id is required\"));\n        }\n        if (!args.refresh_token) {\n            logger.throw(new Error(\"A refresh_token is required\"));\n        }\n\n        const params = new URLSearchParams({ grant_type });\n        for (const [key, value] of Object.entries(args)) {\n            if (Array.isArray(value)) {\n                value.forEach(param => params.append(key, param));\n            }\n            else if (value != null) {\n                params.set(key, value);\n            }\n        }\n        let basicAuth: string | undefined;\n        switch (this._settings.client_authentication) {\n            case \"client_secret_basic\":\n                if (!client_secret) {\n                    logger.throw(new Error(\"A client_secret is required\"));\n                    throw null; // https://github.com/microsoft/TypeScript/issues/46972\n                }\n                basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n                break;\n            case \"client_secret_post\":\n                params.append(\"client_id\", client_id);\n                if (client_secret) {\n                    params.append(\"client_secret\", client_secret);\n                }\n                break;\n        }\n\n        const url = await this._metadataService.getTokenEndpoint(false);\n        logger.debug(\"got token endpoint\");\n\n        const response = await this._jsonService.postForm(url, { body: params, basicAuth, timeoutInSeconds, initCredentials: this._settings.fetchRequestCredentials });\n        logger.debug(\"got response\");\n\n        return response;\n    }\n\n    /**\n     * Revoke an access or refresh token.\n     *\n     * @see https://datatracker.ietf.org/doc/html/rfc7009#section-2.1\n     */\n    public async revoke(args: RevokeArgs): Promise<void> {\n        const logger = this._logger.create(\"revoke\");\n        if (!args.token) {\n            logger.throw(new Error(\"A token is required\"));\n        }\n\n        const url = await this._metadataService.getRevocationEndpoint(false);\n\n        logger.debug(`got revocation endpoint, revoking ${args.token_type_hint ?? \"default token type\"}`);\n\n        const params = new URLSearchParams();\n        for (const [key, value] of Object.entries(args)) {\n            if (value != null) {\n                params.set(key, value);\n            }\n        }\n        params.set(\"client_id\", this._settings.client_id);\n        if (this._settings.client_secret) {\n            params.set(\"client_secret\", this._settings.client_secret);\n        }\n\n        await this._jsonService.postForm(url, { body: params });\n        logger.debug(\"got response\");\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, JwtUtils } from \"./utils\";\nimport { ErrorResponse } from \"./errors\";\nimport type { MetadataService } from \"./MetadataService\";\nimport { UserInfoService } from \"./UserInfoService\";\nimport { TokenClient } from \"./TokenClient\";\nimport type { OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport type { SigninState } from \"./SigninState\";\nimport type { SigninResponse } from \"./SigninResponse\";\nimport type { State } from \"./State\";\nimport type { SignoutResponse } from \"./SignoutResponse\";\nimport type { UserProfile } from \"./User\";\nimport type { RefreshState } from \"./RefreshState\";\nimport type { IdTokenClaims } from \"./Claims\";\nimport type { ClaimsService } from \"./ClaimsService\";\n\n/**\n * @internal\n */\nexport class ResponseValidator {\n    protected readonly _logger = new Logger(\"ResponseValidator\");\n    protected readonly _userInfoService = new UserInfoService(this._settings, this._metadataService);\n    protected readonly _tokenClient = new TokenClient(this._settings, this._metadataService);\n\n    public constructor(\n        protected readonly _settings: OidcClientSettingsStore,\n        protected readonly _metadataService: MetadataService,\n        protected readonly _claimsService: ClaimsService,\n    ) {}\n\n    public async validateSigninResponse(response: SigninResponse, state: SigninState): Promise<void> {\n        const logger = this._logger.create(\"validateSigninResponse\");\n\n        this._processSigninState(response, state);\n        logger.debug(\"state processed\");\n\n        await this._processCode(response, state);\n        logger.debug(\"code processed\");\n\n        if (response.isOpenId) {\n            this._validateIdTokenAttributes(response);\n        }\n        logger.debug(\"tokens validated\");\n\n        await this._processClaims(response, state?.skipUserInfo, response.isOpenId);\n        logger.debug(\"claims processed\");\n    }\n\n    public async validateCredentialsResponse(response: SigninResponse, skipUserInfo: boolean): Promise<void> {\n        const logger = this._logger.create(\"validateCredentialsResponse\");\n\n        if (response.isOpenId) {\n            this._validateIdTokenAttributes(response);\n        }\n        logger.debug(\"tokens validated\");\n\n        await this._processClaims(response, skipUserInfo, response.isOpenId);\n        logger.debug(\"claims processed\");\n    }\n\n    public async validateRefreshResponse(response: SigninResponse, state: RefreshState): Promise<void> {\n        const logger = this._logger.create(\"validateRefreshResponse\");\n\n        response.userState = state.data;\n        // if there's no session_state on the response, copy over session_state from original request\n        response.session_state ??= state.session_state;\n        // if there's no scope on the response, then assume all scopes granted (per-spec) and copy over scopes from original request\n        response.scope ??= state.scope;\n\n        // OpenID Connect Core 1.0 says that id_token is optional in refresh response:\n        // https://openid.net/specs/openid-connect-core-1_0.html#RefreshTokenResponse\n        if (response.isOpenId && !!response.id_token) {\n            this._validateIdTokenAttributes(response, state.id_token);\n            logger.debug(\"ID Token validated\");\n        }\n\n        if (!response.id_token) {\n            // if there's no id_token on the response, copy over id_token from original request\n            response.id_token = state.id_token;\n            // and decoded part too\n            response.profile = state.profile;\n        }\n\n        const hasIdToken = response.isOpenId && !!response.id_token;\n        await this._processClaims(response, false, hasIdToken);\n        logger.debug(\"claims processed\");\n    }\n\n    public validateSignoutResponse(response: SignoutResponse, state: State): void {\n        const logger = this._logger.create(\"validateSignoutResponse\");\n        if (state.id !== response.state) {\n            logger.throw(new Error(\"State does not match\"));\n        }\n\n        // now that we know the state matches, take the stored data\n        // and set it into the response so callers can get their state\n        // this is important for both success & error outcomes\n        logger.debug(\"state validated\");\n        response.userState = state.data;\n\n        if (response.error) {\n            logger.warn(\"Response was error\", response.error);\n            throw new ErrorResponse(response);\n        }\n    }\n\n    protected _processSigninState(response: SigninResponse, state: SigninState): void {\n        const logger = this._logger.create(\"_processSigninState\");\n        if (state.id !== response.state) {\n            logger.throw(new Error(\"State does not match\"));\n        }\n\n        if (!state.client_id) {\n            logger.throw(new Error(\"No client_id on state\"));\n        }\n\n        if (!state.authority) {\n            logger.throw(new Error(\"No authority on state\"));\n        }\n\n        // ensure we're using the correct authority\n        if (this._settings.authority !== state.authority) {\n            logger.throw(new Error(\"authority mismatch on settings vs. signin state\"));\n        }\n        if (this._settings.client_id && this._settings.client_id !== state.client_id) {\n            logger.throw(new Error(\"client_id mismatch on settings vs. signin state\"));\n        }\n\n        // now that we know the state matches, take the stored data\n        // and set it into the response so callers can get their state\n        // this is important for both success & error outcomes\n        logger.debug(\"state validated\");\n        response.userState = state.data;\n        // if there's no scope on the response, then assume all scopes granted (per-spec) and copy over scopes from original request\n        response.scope ??= state.scope;\n\n        if (response.error) {\n            logger.warn(\"Response was error\", response.error);\n            throw new ErrorResponse(response);\n        }\n\n        if (state.code_verifier && !response.code) {\n            logger.throw(new Error(\"Expected code in response\"));\n        }\n\n    }\n\n    protected async _processClaims(response: SigninResponse, skipUserInfo = false, validateSub = true): Promise<void> {\n        const logger = this._logger.create(\"_processClaims\");\n        response.profile = this._claimsService.filterProtocolClaims(response.profile);\n\n        if (skipUserInfo || !this._settings.loadUserInfo || !response.access_token) {\n            logger.debug(\"not loading user info\");\n            return;\n        }\n\n        logger.debug(\"loading user info\");\n        const claims = await this._userInfoService.getClaims(response.access_token);\n        logger.debug(\"user info claims received from user info endpoint\");\n\n        if (validateSub && claims.sub !== response.profile.sub) {\n            logger.throw(new Error(\"subject from UserInfo response does not match subject in ID Token\"));\n        }\n\n        response.profile = this._claimsService.mergeClaims(response.profile, this._claimsService.filterProtocolClaims(claims as IdTokenClaims));\n        logger.debug(\"user info claims received, updated profile:\", response.profile);\n    }\n\n    protected async _processCode(response: SigninResponse, state: SigninState): Promise<void> {\n        const logger = this._logger.create(\"_processCode\");\n        if (response.code) {\n            logger.debug(\"Validating code\");\n            const tokenResponse = await this._tokenClient.exchangeCode({\n                client_id: state.client_id,\n                client_secret: state.client_secret,\n                code: response.code,\n                redirect_uri: state.redirect_uri,\n                code_verifier: state.code_verifier,\n                ...state.extraTokenParams,\n            });\n            Object.assign(response, tokenResponse);\n        } else {\n            logger.debug(\"No code to process\");\n        }\n    }\n\n    protected _validateIdTokenAttributes(response: SigninResponse, existingToken?: string): void {\n        const logger = this._logger.create(\"_validateIdTokenAttributes\");\n\n        logger.debug(\"decoding ID Token JWT\");\n        const incoming = JwtUtils.decode(response.id_token ?? \"\");\n\n        if (!incoming.sub) {\n            logger.throw(new Error(\"ID Token is missing a subject claim\"));\n        }\n\n        if (existingToken) {\n            const existing = JwtUtils.decode(existingToken);\n            if (incoming.sub !== existing.sub) {\n                logger.throw(new Error(\"sub in id_token does not match current sub\"));\n            }\n            if (incoming.auth_time && incoming.auth_time !== existing.auth_time) {\n                logger.throw(new Error(\"auth_time in id_token does not match original auth_time\"));\n            }\n            if (incoming.azp && incoming.azp !== existing.azp) {\n                logger.throw(new Error(\"azp in id_token does not match original azp\"));\n            }\n            if (!incoming.azp && existing.azp) {\n                logger.throw(new Error(\"azp not in id_token, but present in original id_token\"));\n            }\n        }\n\n        response.profile = incoming as UserProfile;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, CryptoUtils, Timer } from \"./utils\";\nimport type { StateStore } from \"./StateStore\";\n\n/**\n * @public\n */\nexport class State {\n    public readonly id: string;\n    public readonly created: number;\n    public readonly request_type: string | undefined;\n\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    public readonly data?: unknown;\n\n    public constructor(args: {\n        id?: string;\n        data?: unknown;\n        created?: number;\n        request_type?: string;\n    }) {\n        this.id = args.id || CryptoUtils.generateUUIDv4();\n        this.data = args.data;\n\n        if (args.created && args.created > 0) {\n            this.created = args.created;\n        }\n        else {\n            this.created = Timer.getEpochTime();\n        }\n        this.request_type = args.request_type;\n    }\n\n    public toStorageString(): string {\n        new Logger(\"State\").create(\"toStorageString\");\n        return JSON.stringify({\n            id: this.id,\n            data: this.data,\n            created: this.created,\n            request_type: this.request_type,\n        });\n    }\n\n    public static fromStorageString(storageString: string): State {\n        Logger.createStatic(\"State\", \"fromStorageString\");\n        return new State(JSON.parse(storageString));\n    }\n\n    public static async clearStaleState(storage: StateStore, age: number): Promise<void> {\n        const logger = Logger.createStatic(\"State\", \"clearStaleState\");\n        const cutoff = Timer.getEpochTime() - age;\n\n        const keys = await storage.getAllKeys();\n        logger.debug(\"got keys\", keys);\n\n        for (let i = 0; i < keys.length; i++) {\n            const key = keys[i];\n            const item = await storage.get(key);\n            let remove = false;\n\n            if (item) {\n                try {\n                    const state = State.fromStorageString(item);\n\n                    logger.debug(\"got item from key:\", key, state.created);\n                    if (state.created <= cutoff) {\n                        remove = true;\n                    }\n                }\n                catch (err) {\n                    logger.error(\"Error parsing state for key:\", key, err);\n                    remove = true;\n                }\n            }\n            else {\n                logger.debug(\"no item in storage for key:\", key);\n                remove = true;\n            }\n\n            if (remove) {\n                logger.debug(\"removed item for key:\", key);\n                void storage.remove(key);\n            }\n        }\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, CryptoUtils } from \"./utils\";\nimport { State } from \"./State\";\n\n/**\n * @public\n */\nexport class SigninState extends State {\n    // isCode\n    /** The same code_verifier that was used to obtain the authorization_code via PKCE. */\n    public readonly code_verifier: string | undefined;\n    /** Used to secure authorization code grants via Proof Key for Code Exchange (PKCE). */\n    public readonly code_challenge: string | undefined;\n\n    // to ensure state still matches settings\n    /** @see {@link OidcClientSettings.authority} */\n    public readonly authority: string;\n    /** @see {@link OidcClientSettings.client_id} */\n    public readonly client_id: string;\n    /** @see {@link OidcClientSettings.redirect_uri} */\n    public readonly redirect_uri: string;\n    /** @see {@link OidcClientSettings.scope} */\n    public readonly scope: string;\n    /** @see {@link OidcClientSettings.client_secret} */\n    public readonly client_secret: string | undefined;\n    /** @see {@link OidcClientSettings.extraTokenParams} */\n    public readonly extraTokenParams: Record<string, unknown> | undefined;\n    /** @see {@link OidcClientSettings.response_mode} */\n    public readonly response_mode: \"query\" | \"fragment\" | undefined;\n\n    public readonly skipUserInfo: boolean | undefined;\n\n    public constructor(args: {\n        id?: string;\n        data?: unknown;\n        created?: number;\n        request_type?: string;\n\n        code_verifier?: string | boolean;\n        authority: string;\n        client_id: string;\n        redirect_uri: string;\n        scope: string;\n        client_secret?: string;\n        extraTokenParams?: Record<string, unknown>;\n        response_mode?: \"query\" | \"fragment\";\n        skipUserInfo?: boolean;\n    }) {\n        super(args);\n\n        if (args.code_verifier === true) {\n            this.code_verifier = CryptoUtils.generateCodeVerifier();\n        }\n        else if (args.code_verifier) {\n            this.code_verifier = args.code_verifier;\n        }\n\n        if (this.code_verifier) {\n            this.code_challenge = CryptoUtils.generateCodeChallenge(this.code_verifier);\n        }\n\n        this.authority = args.authority;\n        this.client_id = args.client_id;\n        this.redirect_uri = args.redirect_uri;\n        this.scope = args.scope;\n        this.client_secret = args.client_secret;\n        this.extraTokenParams = args.extraTokenParams;\n\n        this.response_mode = args.response_mode;\n        this.skipUserInfo = args.skipUserInfo;\n    }\n\n    public toStorageString(): string {\n        new Logger(\"SigninState\").create(\"toStorageString\");\n        return JSON.stringify({\n            id: this.id,\n            data: this.data,\n            created: this.created,\n            request_type: this.request_type,\n\n            code_verifier: this.code_verifier,\n            authority: this.authority,\n            client_id: this.client_id,\n            redirect_uri: this.redirect_uri,\n            scope: this.scope,\n            client_secret: this.client_secret,\n            extraTokenParams : this.extraTokenParams,\n            response_mode: this.response_mode,\n            skipUserInfo: this.skipUserInfo,\n        });\n    }\n\n    public static fromStorageString(storageString: string): SigninState {\n        Logger.createStatic(\"SigninState\", \"fromStorageString\");\n        const data = JSON.parse(storageString);\n        return new SigninState(data);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { SigninState } from \"./SigninState\";\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest\n */\nexport interface SigninRequestArgs {\n    // mandatory\n    url: string;\n    authority: string;\n    client_id: string;\n    redirect_uri: string;\n    response_type: string;\n    scope: string;\n\n    // optional\n    response_mode?: \"query\" | \"fragment\";\n    nonce?: string;\n    display?: string;\n    prompt?: string;\n    max_age?: number;\n    ui_locales?: string;\n    id_token_hint?: string;\n    login_hint?: string;\n    acr_values?: string;\n\n    // other\n    resource?: string | string[];\n    request?: string;\n    request_uri?: string;\n    request_type?: string;\n    extraQueryParams?: Record<string, string | number | boolean>;\n\n    // special\n    extraTokenParams?: Record<string, unknown>;\n    client_secret?: string;\n    skipUserInfo?: boolean;\n    disablePKCE?: boolean;\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state_data?: unknown;\n}\n\n/**\n * @public\n */\nexport class SigninRequest {\n    private readonly _logger = new Logger(\"SigninRequest\");\n\n    public readonly url: string;\n    public readonly state: SigninState;\n\n    public constructor({\n        // mandatory\n        url, authority, client_id, redirect_uri, response_type, scope,\n        // optional\n        state_data, response_mode, request_type, client_secret, nonce,\n        resource,\n        skipUserInfo,\n        extraQueryParams,\n        extraTokenParams,\n        disablePKCE,\n        ...optionalParams\n    }: SigninRequestArgs) {\n        if (!url) {\n            this._logger.error(\"ctor: No url passed\");\n            throw new Error(\"url\");\n        }\n        if (!client_id) {\n            this._logger.error(\"ctor: No client_id passed\");\n            throw new Error(\"client_id\");\n        }\n        if (!redirect_uri) {\n            this._logger.error(\"ctor: No redirect_uri passed\");\n            throw new Error(\"redirect_uri\");\n        }\n        if (!response_type) {\n            this._logger.error(\"ctor: No response_type passed\");\n            throw new Error(\"response_type\");\n        }\n        if (!scope) {\n            this._logger.error(\"ctor: No scope passed\");\n            throw new Error(\"scope\");\n        }\n        if (!authority) {\n            this._logger.error(\"ctor: No authority passed\");\n            throw new Error(\"authority\");\n        }\n\n        this.state = new SigninState({\n            data: state_data,\n            request_type,\n            code_verifier: !disablePKCE,\n            client_id, authority, redirect_uri,\n            response_mode,\n            client_secret, scope, extraTokenParams,\n            skipUserInfo,\n        });\n\n        const parsedUrl = new URL(url);\n        parsedUrl.searchParams.append(\"client_id\", client_id);\n        parsedUrl.searchParams.append(\"redirect_uri\", redirect_uri);\n        parsedUrl.searchParams.append(\"response_type\", response_type);\n        parsedUrl.searchParams.append(\"scope\", scope);\n        if (nonce) {\n            parsedUrl.searchParams.append(\"nonce\", nonce);\n        }\n\n        parsedUrl.searchParams.append(\"state\", this.state.id);\n        if (this.state.code_challenge) {\n            parsedUrl.searchParams.append(\"code_challenge\", this.state.code_challenge);\n            parsedUrl.searchParams.append(\"code_challenge_method\", \"S256\");\n        }\n\n        if (resource) {\n            // https://datatracker.ietf.org/doc/html/rfc8707\n            const resources = Array.isArray(resource) ? resource : [resource];\n            resources\n                .forEach(r => parsedUrl.searchParams.append(\"resource\", r));\n        }\n\n        for (const [key, value] of Object.entries({ response_mode, ...optionalParams, ...extraQueryParams })) {\n            if (value != null) {\n                parsedUrl.searchParams.append(key, value.toString());\n            }\n        }\n\n        this.url = parsedUrl.href;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Timer } from \"./utils\";\nimport type { UserProfile } from \"./User\";\n\nconst OidcScope = \"openid\";\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-core-1_0.html#AuthResponse\n * @see https://openid.net/specs/openid-connect-core-1_0.html#AuthError\n */\nexport class SigninResponse {\n    // props present in the initial callback response regardless of success\n    public readonly state: string | null;\n    /** @see {@link User.session_state} */\n    public session_state: string | null;\n\n    // error props\n    /** @see {@link ErrorResponse.error} */\n    public readonly error: string | null;\n    /** @see {@link ErrorResponse.error_description} */\n    public readonly error_description: string | null;\n    /** @see {@link ErrorResponse.error_uri} */\n    public readonly error_uri: string | null;\n\n    // success props\n    public readonly code: string | null;\n\n    // props set after validation\n    /** @see {@link User.id_token} */\n    public id_token?: string;\n    /** @see {@link User.access_token} */\n    public access_token = \"\";\n    /** @see {@link User.token_type} */\n    public token_type = \"\";\n    /** @see {@link User.refresh_token} */\n    public refresh_token?: string;\n    /** @see {@link User.scope} */\n    public scope?: string;\n    /** @see {@link User.expires_at} */\n    public expires_at?: number;\n\n    /** custom state data set during the initial signin request */\n    public userState: unknown;\n\n    /** @see {@link User.profile} */\n    public profile: UserProfile = {} as UserProfile;\n\n    public constructor(params: URLSearchParams) {\n        this.state = params.get(\"state\");\n        this.session_state = params.get(\"session_state\");\n\n        this.error = params.get(\"error\");\n        this.error_description = params.get(\"error_description\");\n        this.error_uri = params.get(\"error_uri\");\n\n        this.code = params.get(\"code\");\n    }\n\n    public get expires_in(): number | undefined {\n        if (this.expires_at === undefined) {\n            return undefined;\n        }\n        return this.expires_at - Timer.getEpochTime();\n    }\n    public set expires_in(value: number | undefined) {\n        // spec expects a number, but normalize here just in case\n        if (typeof value === \"string\") value = Number(value);\n        if (value !== undefined && value >= 0) {\n            this.expires_at = Math.floor(value) + Timer.getEpochTime();\n        }\n    }\n\n    public get isOpenId(): boolean {\n        return this.scope?.split(\" \").includes(OidcScope) || !!this.id_token;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { State } from \"./State\";\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-rpinitiated-1_0.html#RPLogout\n */\nexport interface SignoutRequestArgs {\n    // mandatory\n    url: string;\n\n    // optional\n    id_token_hint?: string;\n    client_id?: string;\n    post_logout_redirect_uri?: string;\n    extraQueryParams?: Record<string, string | number | boolean>;\n\n    // special\n    request_type?: string;\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state_data?: unknown;\n}\n\n/**\n * @public\n */\nexport class SignoutRequest {\n    private readonly _logger = new Logger(\"SignoutRequest\");\n\n    public readonly url: string;\n    public readonly state?: State;\n\n    public constructor({\n        url,\n        state_data, id_token_hint, post_logout_redirect_uri, extraQueryParams, request_type, client_id,\n    }: SignoutRequestArgs) {\n        if (!url) {\n            this._logger.error(\"ctor: No url passed\");\n            throw new Error(\"url\");\n        }\n\n        const parsedUrl = new URL(url);\n        if (id_token_hint) {\n            parsedUrl.searchParams.append(\"id_token_hint\", id_token_hint);\n        }\n        if (client_id) {\n            parsedUrl.searchParams.append(\"client_id\", client_id);\n        }\n\n        if (post_logout_redirect_uri) {\n            parsedUrl.searchParams.append(\"post_logout_redirect_uri\", post_logout_redirect_uri);\n\n            if (state_data) {\n                this.state = new State({ data: state_data, request_type });\n\n                parsedUrl.searchParams.append(\"state\", this.state.id);\n            }\n        }\n\n        for (const [key, value] of Object.entries({ ...extraQueryParams })) {\n            if (value != null) {\n                parsedUrl.searchParams.append(key, value.toString());\n            }\n        }\n\n        this.url = parsedUrl.href;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-core-1_0.html#AuthError\n */\nexport class SignoutResponse {\n    public readonly state: string | null;\n\n    // error props\n    /** @see {@link ErrorResponse.error} */\n    public error: string | null;\n    /** @see {@link ErrorResponse.error_description} */\n    public error_description: string | null;\n    /** @see {@link ErrorResponse.error_uri} */\n    public error_uri: string | null;\n\n    /** custom state data set during the initial signin request */\n    public userState: unknown;\n\n    public constructor(params: URLSearchParams) {\n        this.state = params.get(\"state\");\n\n        this.error = params.get(\"error\");\n        this.error_description = params.get(\"error_description\");\n        this.error_uri = params.get(\"error_uri\");\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport type { JwtClaims } from \"./Claims\";\nimport type { OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport type { UserProfile } from \"./User\";\nimport { Logger } from \"./utils\";\n\n/**\n * Protocol claims that could be removed by default from profile.\n * Derived from the following sets of claims:\n * - {@link https://datatracker.ietf.org/doc/html/rfc7519.html#section-4.1}\n * - {@link https://openid.net/specs/openid-connect-core-1_0.html#IDToken}\n * - {@link https://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken}\n *\n * @internal\n */\nconst DefaultProtocolClaims = [\n    \"nbf\",\n    \"jti\",\n    \"auth_time\",\n    \"nonce\",\n    \"acr\",\n    \"amr\",\n    \"azp\",\n    \"at_hash\", // https://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken\n] as const;\n\n/**\n * Protocol claims that should never be removed from profile.\n * \"sub\" is needed internally and others should remain required as per the OIDC specs.\n *\n * @internal\n */\nconst InternalRequiredProtocolClaims = [\"sub\", \"iss\", \"aud\", \"exp\", \"iat\"];\n\n/**\n * @internal\n */\nexport class ClaimsService {\n    protected readonly _logger = new Logger(\"ClaimsService\");\n    public constructor(\n        protected readonly _settings: OidcClientSettingsStore,\n    ) {}\n\n    public filterProtocolClaims(claims: UserProfile): UserProfile {\n        const result = { ...claims };\n\n        if (this._settings.filterProtocolClaims) {\n            let protocolClaims;\n            if (Array.isArray(this._settings.filterProtocolClaims)) {\n                protocolClaims = this._settings.filterProtocolClaims;\n            } else {\n                protocolClaims = DefaultProtocolClaims;\n            }\n\n            for (const claim of protocolClaims) {\n                if (!InternalRequiredProtocolClaims.includes(claim)) {\n                    delete result[claim];\n                }\n            }\n        }\n\n        return result;\n    }\n\n    public mergeClaims(claims1: UserProfile, claims2: JwtClaims): UserProfile {\n        const result = { ...claims1 };\n\n        for (const [claim, values] of Object.entries(claims2)) {\n            for (const value of Array.isArray(values) ? values : [values]) {\n                const previousValue = result[claim];\n                if (!previousValue) {\n                    result[claim] = value;\n                }\n                else if (Array.isArray(previousValue)) {\n                    if (!previousValue.includes(value)) {\n                        previousValue.push(value);\n                    }\n                }\n                else if (result[claim] !== value) {\n                    if (typeof value === \"object\" && this._settings.mergeClaims) {\n                        result[claim] = this.mergeClaims(previousValue as UserProfile, value);\n                    }\n                    else {\n                        result[claim] = [previousValue, value];\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, UrlUtils } from \"./utils\";\nimport { ErrorResponse } from \"./errors\";\nimport { type OidcClientSettings, OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport { ResponseValidator } from \"./ResponseValidator\";\nimport { MetadataService } from \"./MetadataService\";\nimport type { RefreshState } from \"./RefreshState\";\nimport { SigninRequest, type SigninRequestArgs } from \"./SigninRequest\";\nimport { SigninResponse } from \"./SigninResponse\";\nimport { SignoutRequest, type SignoutRequestArgs } from \"./SignoutRequest\";\nimport { SignoutResponse } from \"./SignoutResponse\";\nimport { SigninState } from \"./SigninState\";\nimport { State } from \"./State\";\nimport { TokenClient } from \"./TokenClient\";\nimport { ClaimsService } from \"./ClaimsService\";\n\n/**\n * @public\n */\nexport interface CreateSigninRequestArgs\n    extends Omit<SigninRequestArgs, \"url\" | \"authority\" | \"client_id\" | \"redirect_uri\" | \"response_type\" | \"scope\" | \"state_data\"> {\n    redirect_uri?: string;\n    response_type?: string;\n    scope?: string;\n\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state?: unknown;\n}\n\n/**\n * @public\n */\nexport interface UseRefreshTokenArgs {\n    state: RefreshState;\n    timeoutInSeconds?: number;\n}\n\n/**\n * @public\n */\nexport type CreateSignoutRequestArgs = Omit<SignoutRequestArgs, \"url\" | \"state_data\"> & {\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state?: unknown;\n};\n\n/**\n * @public\n */\nexport type ProcessResourceOwnerPasswordCredentialsArgs = {\n    username: string;\n    password: string;\n    skipUserInfo?: boolean;\n    extraTokenParams?: Record<string, unknown>;\n};\n\n/**\n * Provides the raw OIDC/OAuth2 protocol support for the authorization endpoint and the end session endpoint in the\n * authorization server. It provides a bare-bones protocol implementation and is used by the UserManager class.\n * Only use this class if you simply want protocol support without the additional management features of the\n * UserManager class.\n *\n * @public\n */\nexport class OidcClient {\n    public readonly settings: OidcClientSettingsStore;\n    protected readonly _logger = new Logger(\"OidcClient\");\n\n    public readonly metadataService: MetadataService;\n    protected readonly _claimsService: ClaimsService;\n    protected readonly _validator: ResponseValidator;\n    protected readonly _tokenClient: TokenClient;\n\n    public constructor(settings: OidcClientSettings);\n    public constructor(settings: OidcClientSettingsStore, metadataService: MetadataService); \n    public constructor(settings: OidcClientSettings | OidcClientSettingsStore, metadataService?: MetadataService) {\n        this.settings = settings instanceof OidcClientSettingsStore ? settings : new OidcClientSettingsStore(settings);\n\n        this.metadataService = metadataService ?? new MetadataService(this.settings);\n        this._claimsService = new ClaimsService(this.settings);\n        this._validator = new ResponseValidator(this.settings, this.metadataService, this._claimsService);\n        this._tokenClient = new TokenClient(this.settings, this.metadataService);\n    }\n\n    public async createSigninRequest({\n        state,\n        request,\n        request_uri,\n        request_type,\n        id_token_hint,\n        login_hint,\n        skipUserInfo,\n        nonce,\n        response_type = this.settings.response_type,\n        scope = this.settings.scope,\n        redirect_uri = this.settings.redirect_uri,\n        prompt = this.settings.prompt,\n        display = this.settings.display,\n        max_age = this.settings.max_age,\n        ui_locales = this.settings.ui_locales,\n        acr_values = this.settings.acr_values,\n        resource = this.settings.resource,\n        response_mode = this.settings.response_mode,\n        extraQueryParams = this.settings.extraQueryParams,\n        extraTokenParams = this.settings.extraTokenParams,\n    }: CreateSigninRequestArgs): Promise<SigninRequest> {\n        const logger = this._logger.create(\"createSigninRequest\");\n\n        if (response_type !== \"code\") {\n            throw new Error(\"Only the Authorization Code flow (with PKCE) is supported\");\n        }\n\n        const url = await this.metadataService.getAuthorizationEndpoint();\n        logger.debug(\"Received authorization endpoint\", url);\n\n        const signinRequest = new SigninRequest({\n            url,\n            authority: this.settings.authority,\n            client_id: this.settings.client_id,\n            redirect_uri,\n            response_type,\n            scope,\n            state_data: state,\n            prompt, display, max_age, ui_locales, id_token_hint, login_hint, acr_values,\n            resource, request, request_uri, extraQueryParams, extraTokenParams, request_type, response_mode,\n            client_secret: this.settings.client_secret,\n            skipUserInfo,\n            nonce,\n            disablePKCE: this.settings.disablePKCE,\n        });\n\n        // house cleaning\n        await this.clearStaleState();\n\n        const signinState = signinRequest.state;\n        await this.settings.stateStore.set(signinState.id, signinState.toStorageString());\n        return signinRequest;\n    }\n\n    public async readSigninResponseState(url: string, removeState = false): Promise<{ state: SigninState; response: SigninResponse }> {\n        const logger = this._logger.create(\"readSigninResponseState\");\n\n        const response = new SigninResponse(UrlUtils.readParams(url, this.settings.response_mode));\n        if (!response.state) {\n            logger.throw(new Error(\"No state in response\"));\n            // need to throw within this function's body for type narrowing to work\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        const storedStateString = await this.settings.stateStore[removeState ? \"remove\" : \"get\"](response.state);\n        if (!storedStateString) {\n            logger.throw(new Error(\"No matching state found in storage\"));\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        const state = SigninState.fromStorageString(storedStateString);\n        return { state, response };\n    }\n\n    public async processSigninResponse(url: string): Promise<SigninResponse> {\n        const logger = this._logger.create(\"processSigninResponse\");\n\n        const { state, response } = await this.readSigninResponseState(url, true);\n        logger.debug(\"received state from storage; validating response\");\n        await this._validator.validateSigninResponse(response, state);\n        return response;\n    }\n\n    public async processResourceOwnerPasswordCredentials({\n        username,\n        password,\n        skipUserInfo = false,\n        extraTokenParams = {},\n    }: ProcessResourceOwnerPasswordCredentialsArgs): Promise<SigninResponse> {\n        const tokenResponse: Record<string, unknown> = await this._tokenClient.exchangeCredentials({ username, password, ...extraTokenParams });\n        const signinResponse: SigninResponse = new SigninResponse(new URLSearchParams());\n        Object.assign(signinResponse, tokenResponse);\n        await this._validator.validateCredentialsResponse(signinResponse, skipUserInfo);\n        return signinResponse;\n    }\n\n    public async useRefreshToken({\n        state,\n        timeoutInSeconds,\n    }: UseRefreshTokenArgs): Promise<SigninResponse> {\n        const logger = this._logger.create(\"useRefreshToken\");\n\n        // https://github.com/authts/oidc-client-ts/issues/695\n        // In some cases (e.g. AzureAD), not all granted scopes are allowed on token refresh requests.\n        // Therefore, we filter all granted scopes by a list of allowable scopes.\n        let scope;\n        if (this.settings.refreshTokenAllowedScope === undefined) {\n            scope = state.scope;\n        } else {\n            const allowableScopes = this.settings.refreshTokenAllowedScope.split(\" \");\n            const providedScopes = state.scope?.split(\" \") || [];\n\n            scope = providedScopes.filter(s => allowableScopes.includes(s)).join(\" \");\n        }\n\n        const result = await this._tokenClient.exchangeRefreshToken({\n            refresh_token: state.refresh_token,\n            resource: state.resource,\n            // provide the (possible filtered) scope list\n            scope,\n            timeoutInSeconds,\n        });\n        const response = new SigninResponse(new URLSearchParams());\n        Object.assign(response, result);\n        logger.debug(\"validating response\", response);\n        await this._validator.validateRefreshResponse(response, {\n            ...state,\n            // overide the scope in the state handed over to the validator\n            // so it can set the granted scope to the requested scope in case none is included in the response\n            scope,\n        });\n        return response;\n    }\n\n    public async createSignoutRequest({\n        state,\n        id_token_hint,\n        client_id,\n        request_type,\n        post_logout_redirect_uri = this.settings.post_logout_redirect_uri,\n        extraQueryParams = this.settings.extraQueryParams,\n    }: CreateSignoutRequestArgs = {}): Promise<SignoutRequest> {\n        const logger = this._logger.create(\"createSignoutRequest\");\n\n        const url = await this.metadataService.getEndSessionEndpoint();\n        if (!url) {\n            logger.throw(new Error(\"No end session endpoint\"));\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        logger.debug(\"Received end session endpoint\", url);\n\n        // specify the client identifier when post_logout_redirect_uri is used but id_token_hint is not\n        if (!client_id && post_logout_redirect_uri && !id_token_hint) {\n            client_id = this.settings.client_id;\n        }\n\n        const request = new SignoutRequest({\n            url,\n            id_token_hint,\n            client_id,\n            post_logout_redirect_uri,\n            state_data: state,\n            extraQueryParams,\n            request_type,\n        });\n\n        // house cleaning\n        await this.clearStaleState();\n\n        const signoutState = request.state;\n        if (signoutState) {\n            logger.debug(\"Signout request has state to persist\");\n            await this.settings.stateStore.set(signoutState.id, signoutState.toStorageString());\n        }\n\n        return request;\n    }\n\n    public async readSignoutResponseState(url: string, removeState = false): Promise<{ state: State | undefined; response: SignoutResponse }> {\n        const logger = this._logger.create(\"readSignoutResponseState\");\n\n        const response = new SignoutResponse(UrlUtils.readParams(url, this.settings.response_mode));\n        if (!response.state) {\n            logger.debug(\"No state in response\");\n\n            if (response.error) {\n                logger.warn(\"Response was error:\", response.error);\n                throw new ErrorResponse(response);\n            }\n\n            return { state: undefined, response };\n        }\n\n        const storedStateString = await this.settings.stateStore[removeState ? \"remove\" : \"get\"](response.state);\n        if (!storedStateString) {\n            logger.throw(new Error(\"No matching state found in storage\"));\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        const state = State.fromStorageString(storedStateString);\n        return { state, response };\n    }\n\n    public async processSignoutResponse(url: string): Promise<SignoutResponse> {\n        const logger = this._logger.create(\"processSignoutResponse\");\n\n        const { state, response } = await this.readSignoutResponseState(url, true);\n        if (state) {\n            logger.debug(\"Received state from storage; validating response\");\n            this._validator.validateSignoutResponse(response, state);\n        } else {\n            logger.debug(\"No state from storage; skipping response validation\");\n        }\n\n        return response;\n    }\n\n    public clearStaleState(): Promise<void> {\n        this._logger.create(\"clearStaleState\");\n        return State.clearStaleState(this.settings.stateStore, this.settings.staleStateAgeInSeconds);\n    }\n\n    public async revokeToken(token: string, type?: \"access_token\" | \"refresh_token\"): Promise<void> {\n        this._logger.create(\"revokeToken\");\n        return await this._tokenClient.revoke({\n            token,\n            token_type_hint: type,\n        });\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { CheckSessionIFrame } from \"./CheckSessionIFrame\";\nimport type { UserManager } from \"./UserManager\";\nimport type { User } from \"./User\";\n\n/**\n * @public\n */\nexport class SessionMonitor {\n    private readonly _logger = new Logger(\"SessionMonitor\");\n\n    private _sub: string | undefined;\n    private _sid: string | undefined;\n    private _checkSessionIFrame?: CheckSessionIFrame;\n\n    public constructor(private readonly _userManager: UserManager) {\n        if (!_userManager) {\n            this._logger.throw(new Error(\"No user manager passed\"));\n        }\n\n        this._userManager.events.addUserLoaded(this._start);\n        this._userManager.events.addUserUnloaded(this._stop);\n\n        this._init().catch((err: unknown) => {\n            // catch to suppress errors since we're in a ctor\n            this._logger.error(err);\n        });\n    }\n\n    protected async _init(): Promise<void> {\n        this._logger.create(\"_init\");\n        const user = await this._userManager.getUser();\n        // doing this manually here since calling getUser\n        // doesn't trigger load event.\n        if (user) {\n            void this._start(user);\n        }\n        else if (this._userManager.settings.monitorAnonymousSession) {\n            const session = await this._userManager.querySessionStatus();\n            if (session) {\n                const tmpUser = {\n                    session_state: session.session_state,\n                    profile: session.sub && session.sid ? {\n                        sub: session.sub,\n                        sid: session.sid,\n                    } : null,\n                };\n                void this._start(tmpUser);\n            }\n        }\n    }\n\n    protected _start = async (\n        user: User | {\n            session_state: string;\n            profile: { sub: string; sid: string } | null;\n        },\n    ): Promise<void> => {\n        const session_state = user.session_state;\n        if (!session_state) {\n            return;\n        }\n        const logger = this._logger.create(\"_start\");\n\n        if (user.profile) {\n            this._sub = user.profile.sub;\n            this._sid = user.profile.sid;\n            logger.debug(\"session_state\", session_state, \", sub\", this._sub);\n        }\n        else {\n            this._sub = undefined;\n            this._sid = undefined;\n            logger.debug(\"session_state\", session_state, \", anonymous user\");\n        }\n\n        if (this._checkSessionIFrame) {\n            this._checkSessionIFrame.start(session_state);\n            return;\n        }\n\n        try {\n            const url = await this._userManager.metadataService.getCheckSessionIframe();\n            if (url) {\n                logger.debug(\"initializing check session iframe\");\n\n                const client_id = this._userManager.settings.client_id;\n                const intervalInSeconds = this._userManager.settings.checkSessionIntervalInSeconds;\n                const stopOnError = this._userManager.settings.stopCheckSessionOnError;\n\n                const checkSessionIFrame = new CheckSessionIFrame(this._callback, client_id, url, intervalInSeconds, stopOnError);\n                await checkSessionIFrame.load();\n                this._checkSessionIFrame = checkSessionIFrame;\n                checkSessionIFrame.start(session_state);\n            }\n            else {\n                logger.warn(\"no check session iframe found in the metadata\");\n            }\n        }\n        catch (err) {\n            // catch to suppress errors since we're in non-promise callback\n            logger.error(\"Error from getCheckSessionIframe:\", err instanceof Error ? err.message : err);\n        }\n    };\n\n    protected _stop = (): void => {\n        const logger = this._logger.create(\"_stop\");\n        this._sub = undefined;\n        this._sid = undefined;\n\n        if (this._checkSessionIFrame) {\n            this._checkSessionIFrame.stop();\n        }\n\n        if (this._userManager.settings.monitorAnonymousSession) {\n            // using a timer to delay re-initialization to avoid race conditions during signout\n            // TODO rewrite to use promise correctly\n            // eslint-disable-next-line @typescript-eslint/no-misused-promises\n            const timerHandle = setInterval(async () => {\n                clearInterval(timerHandle);\n\n                try {\n                    const session = await this._userManager.querySessionStatus();\n                    if (session) {\n                        const tmpUser = {\n                            session_state: session.session_state,\n                            profile: session.sub && session.sid ? {\n                                sub: session.sub,\n                                sid: session.sid,\n                            } : null,\n                        };\n                        void this._start(tmpUser);\n                    }\n                }\n                catch (err) {\n                    // catch to suppress errors since we're in a callback\n                    logger.error(\"error from querySessionStatus\", err instanceof Error ? err.message : err);\n                }\n            }, 1000);\n        }\n    };\n\n    protected _callback = async (): Promise<void> => {\n        const logger = this._logger.create(\"_callback\");\n        try {\n            const session = await this._userManager.querySessionStatus();\n            let raiseEvent = true;\n\n            if (session && this._checkSessionIFrame) {\n                if (session.sub === this._sub) {\n                    raiseEvent = false;\n                    this._checkSessionIFrame.start(session.session_state);\n\n                    if (session.sid === this._sid) {\n                        logger.debug(\"same sub still logged in at OP, restarting check session iframe; session_state\", session.session_state);\n                    }\n                    else {\n                        logger.debug(\"same sub still logged in at OP, session state has changed, restarting check session iframe; session_state\", session.session_state);\n                        this._userManager.events._raiseUserSessionChanged();\n                    }\n                }\n                else {\n                    logger.debug(\"different subject signed into OP\", session.sub);\n                }\n            }\n            else {\n                logger.debug(\"subject no longer signed into OP\");\n            }\n\n            if (raiseEvent) {\n                if (this._sub) {\n                    this._userManager.events._raiseUserSignedOut();\n                }\n                else {\n                    this._userManager.events._raiseUserSignedIn();\n                }\n            } else {\n                logger.debug(\"no change in session detected, no event to raise\");\n            }\n        }\n        catch (err) {\n            if (this._sub) {\n                logger.debug(\"Error calling queryCurrentSigninSession; raising signed out event\", err);\n                this._userManager.events._raiseUserSignedOut();\n            }\n        }\n    };\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Timer } from \"./utils\";\nimport type { IdTokenClaims } from \"./Claims\";\n\n/**\n * Holds claims represented by a combination of the `id_token` and the user info endpoint.\n * @public\n */\nexport type UserProfile = IdTokenClaims;\n\n/**\n * @public\n */\nexport class User {\n    /**\n     * A JSON Web Token (JWT). Only provided if `openid` scope was requested.\n     * The application can access the data decoded by using the `profile` property.\n     */\n    public id_token?: string;\n\n    /** The session state value returned from the OIDC provider. */\n    public session_state: string | null;\n\n    /**\n     * The requested access token returned from the OIDC provider. The application can use this token to\n     * authenticate itself to the secured resource.\n     */\n    public access_token: string;\n\n    /**\n     * An OAuth 2.0 refresh token. The app can use this token to acquire additional access tokens after the\n     * current access token expires. Refresh tokens are long-lived and can be used to maintain access to resources\n     * for extended periods of time.\n     */\n    public refresh_token?: string;\n\n    /** Typically \"Bearer\" */\n    public token_type: string;\n\n    /** The scopes that the requested access token is valid for. */\n    public scope?: string;\n\n    /** The claims represented by a combination of the `id_token` and the user info endpoint. */\n    public profile: UserProfile;\n\n    /** The expires at returned from the OIDC provider. */\n    public expires_at?: number;\n\n    /** custom state data set during the initial signin request */\n    public readonly state: unknown;\n\n    public constructor(args: {\n        id_token?: string;\n        session_state?: string | null;\n        access_token: string;\n        refresh_token?: string;\n        token_type: string;\n        scope?: string;\n        profile: UserProfile;\n        expires_at?: number;\n        userState?: unknown;\n    }) {\n        this.id_token = args.id_token;\n        this.session_state = args.session_state ?? null;\n        this.access_token = args.access_token;\n        this.refresh_token = args.refresh_token;\n\n        this.token_type = args.token_type;\n        this.scope = args.scope;\n        this.profile = args.profile;\n        this.expires_at = args.expires_at;\n        this.state = args.userState;\n    }\n\n    /** Computed number of seconds the access token has remaining. */\n    public get expires_in(): number | undefined {\n        if (this.expires_at === undefined) {\n            return undefined;\n        }\n        return this.expires_at - Timer.getEpochTime();\n    }\n\n    public set expires_in(value: number | undefined) {\n        if (value !== undefined) {\n            this.expires_at = Math.floor(value) + Timer.getEpochTime();\n        }\n    }\n\n    /** Computed value indicating if the access token is expired. */\n    public get expired(): boolean | undefined {\n        const expires_in = this.expires_in;\n        if (expires_in === undefined) {\n            return undefined;\n        }\n        return expires_in <= 0;\n    }\n\n    /** Array representing the parsed values from the `scope`. */\n    public get scopes(): string[] {\n        return this.scope?.split(\" \") ?? [];\n    }\n\n    public toStorageString(): string {\n        new Logger(\"User\").create(\"toStorageString\");\n        return JSON.stringify({\n            id_token: this.id_token,\n            session_state: this.session_state,\n            access_token: this.access_token,\n            refresh_token: this.refresh_token,\n            token_type: this.token_type,\n            scope: this.scope,\n            profile: this.profile,\n            expires_at: this.expires_at,\n        });\n    }\n\n    public static fromStorageString(storageString: string): User {\n        Logger.createStatic(\"User\", \"fromStorageString\");\n        return new User(JSON.parse(storageString));\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Event, Logger, UrlUtils } from \"../utils\";\nimport type { IWindow, NavigateParams, NavigateResponse } from \"./IWindow\";\n\nconst messageSource = \"oidc-client\";\n\ninterface MessageData {\n    source: string;\n    url: string;\n    keepOpen: boolean;\n}\n\n/**\n * Window implementation which resolves via communication from a child window\n * via the `Window.postMessage()` interface.\n *\n * @internal\n */\nexport abstract class AbstractChildWindow implements IWindow {\n    protected abstract readonly _logger: Logger;\n    protected readonly _abort = new Event<[reason: Error]>(\"Window navigation aborted\");\n    protected readonly _disposeHandlers = new Set<() => void>();\n\n    protected _window: WindowProxy | null = null;\n\n    public async navigate(params: NavigateParams): Promise<NavigateResponse> {\n        const logger = this._logger.create(\"navigate\");\n        if (!this._window) {\n            throw new Error(\"Attempted to navigate on a disposed window\");\n        }\n\n        logger.debug(\"setting URL in window\");\n        this._window.location.replace(params.url);\n\n        const { url, keepOpen } = await new Promise<MessageData>((resolve, reject) => {\n            const listener = (e: MessageEvent) => {\n                const data: MessageData | undefined = e.data;\n                const origin = params.scriptOrigin ?? window.location.origin;\n                if (e.origin !== origin || data?.source !== messageSource) {\n                    // silently discard events not intended for us\n                    return;\n                }\n                try {\n                    const state = UrlUtils.readParams(data.url, params.response_mode).get(\"state\");\n                    if (!state) {\n                        logger.warn(\"no state found in response url\");\n                    }\n                    if (e.source !== this._window && state !== params.state) {\n                        // MessageEvent source is a relatively modern feature, we can't rely on it\n                        // so we also inspect the payload for a matching state key as an alternative\n                        return;\n                    }\n                }\n                catch (err) {\n                    this._dispose();\n                    reject(new Error(\"Invalid response from window\"));\n                }\n                resolve(data);\n            };\n            window.addEventListener(\"message\", listener, false);\n            this._disposeHandlers.add(() => window.removeEventListener(\"message\", listener, false));\n            this._disposeHandlers.add(this._abort.addHandler((reason) => {\n                this._dispose();\n                reject(reason);\n            }));\n        });\n        logger.debug(\"got response from window\");\n        this._dispose();\n\n        if (!keepOpen) {\n            this.close();\n        }\n\n        return { url };\n    }\n\n    public abstract close(): void;\n\n    private _dispose(): void {\n        this._logger.create(\"_dispose\");\n\n        for (const dispose of this._disposeHandlers) {\n            dispose();\n        }\n        this._disposeHandlers.clear();\n    }\n\n    protected static _notifyParent(parent: Window, url: string, keepOpen = false, targetOrigin = window.location.origin): void {\n        parent.postMessage({\n            source: messageSource,\n            url,\n            keepOpen,\n        } as MessageData, targetOrigin);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { type OidcClientSettings, OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport type { PopupWindowFeatures } from \"./utils/PopupUtils\";\nimport { WebStorageStateStore } from \"./WebStorageStateStore\";\nimport { InMemoryWebStorage } from \"./InMemoryWebStorage\";\n\nexport const DefaultPopupWindowFeatures: PopupWindowFeatures = {\n    location: false,\n    toolbar: false,\n    height: 640,\n    closePopupWindowAfterInSeconds: -1,\n};\nexport const DefaultPopupTarget = \"_blank\";\nconst DefaultAccessTokenExpiringNotificationTimeInSeconds = 60;\nconst DefaultCheckSessionIntervalInSeconds = 2;\nexport const DefaultSilentRequestTimeoutInSeconds = 10;\n\n/**\n * The settings used to configure the {@link UserManager}.\n *\n * @public\n */\nexport interface UserManagerSettings extends OidcClientSettings {\n    /** The URL for the page containing the call to signinPopupCallback to handle the callback from the OIDC/OAuth2 */\n    popup_redirect_uri?: string;\n    popup_post_logout_redirect_uri?: string;\n    /**\n     * The features parameter to window.open for the popup signin window. By default, the popup is\n     * placed centered in front of the window opener.\n     * (default: \\{ location: false, menubar: false, height: 640, closePopupWindowAfterInSeconds: -1 \\})\n     */\n    popupWindowFeatures?: PopupWindowFeatures;\n    /** The target parameter to window.open for the popup signin window (default: \"_blank\") */\n    popupWindowTarget?: string;\n    /** The methods window.location method used to redirect (default: \"assign\") */\n    redirectMethod?: \"replace\" | \"assign\";\n    /** The methods target window being redirected (default: \"self\") */\n    redirectTarget?: \"top\" | \"self\";\n\n    /** The target to pass while calling postMessage inside iframe for callback (default: window.location.origin) */\n    iframeNotifyParentOrigin?: string;\n\n    /** The script origin to check during 'message' callback execution while performing silent auth via iframe (default: window.location.origin) */\n    iframeScriptOrigin?: string;\n\n    /** The URL for the page containing the code handling the silent renew */\n    silent_redirect_uri?: string;\n    /** Number of seconds to wait for the silent renew to return before assuming it has failed or timed out (default: 10) */\n    silentRequestTimeoutInSeconds?: number;\n    /** Flag to indicate if there should be an automatic attempt to renew the access token prior to its expiration. The automatic renew attempt starts 1 minute before the access token expires (default: true) */\n    automaticSilentRenew?: boolean;\n    /** Flag to validate user.profile.sub in silent renew calls (default: true) */\n    validateSubOnSilentRenew?: boolean;\n    /** Flag to control if id_token is included as id_token_hint in silent renew calls (default: false) */\n    includeIdTokenInSilentRenew?: boolean;\n\n    /** Will raise events for when user has performed a signout at the OP (default: false) */\n    monitorSession?: boolean;\n    monitorAnonymousSession?: boolean;\n    /** Interval in seconds to check the user's session (default: 2) */\n    checkSessionIntervalInSeconds?: number;\n    query_status_response_type?: string;\n    stopCheckSessionOnError?: boolean;\n\n    /**\n     * The `token_type_hint`s to pass to the authority server by default (default: [\"access_token\", \"refresh_token\"])\n     *\n     * Token types will be revoked in the same order as they are given here.\n     */\n    revokeTokenTypes?: (\"access_token\" | \"refresh_token\")[];\n    /** Will invoke the revocation endpoint on signout if there is an access token for the user (default: false) */\n    revokeTokensOnSignout?: boolean;\n    /** Flag to control if id_token is included as id_token_hint in silent signout calls (default: false) */\n    includeIdTokenInSilentSignout?: boolean;\n\n    /** The number of seconds before an access token is to expire to raise the accessTokenExpiring event (default: 60) */\n    accessTokenExpiringNotificationTimeInSeconds?: number;\n\n    /**\n     * Storage object used to persist User for currently authenticated user (default: window.sessionStorage, InMemoryWebStorage iff no window).\n     *  E.g. `userStore: new WebStorageStateStore({ store: window.localStorage })`\n     */\n    userStore?: WebStorageStateStore;\n}\n\n/**\n * The settings with defaults applied of the {@link UserManager}.\n * @see {@link UserManagerSettings}\n *\n * @public\n */\nexport class UserManagerSettingsStore extends OidcClientSettingsStore {\n    public readonly popup_redirect_uri: string;\n    public readonly popup_post_logout_redirect_uri: string | undefined;\n    public readonly popupWindowFeatures: PopupWindowFeatures;\n    public readonly popupWindowTarget: string;\n    public readonly redirectMethod: \"replace\" | \"assign\";\n    public readonly redirectTarget: \"top\" | \"self\";\n\n    public readonly iframeNotifyParentOrigin: string | undefined;\n    public readonly iframeScriptOrigin: string | undefined;\n\n    public readonly silent_redirect_uri: string;\n    public readonly silentRequestTimeoutInSeconds: number;\n    public readonly automaticSilentRenew: boolean;\n    public readonly validateSubOnSilentRenew: boolean;\n    public readonly includeIdTokenInSilentRenew: boolean;\n\n    public readonly monitorSession: boolean;\n    public readonly monitorAnonymousSession: boolean;\n    public readonly checkSessionIntervalInSeconds: number;\n    public readonly query_status_response_type: string;\n    public readonly stopCheckSessionOnError: boolean;\n\n    public readonly revokeTokenTypes: (\"access_token\" | \"refresh_token\")[];\n    public readonly revokeTokensOnSignout: boolean;\n    public readonly includeIdTokenInSilentSignout: boolean;\n\n    public readonly accessTokenExpiringNotificationTimeInSeconds: number;\n\n    public readonly userStore: WebStorageStateStore;\n\n    public constructor(args: UserManagerSettings) {\n        const {\n            popup_redirect_uri = args.redirect_uri,\n            popup_post_logout_redirect_uri = args.post_logout_redirect_uri,\n            popupWindowFeatures = DefaultPopupWindowFeatures,\n            popupWindowTarget = DefaultPopupTarget,\n            redirectMethod = \"assign\",\n            redirectTarget = \"self\",\n\n            iframeNotifyParentOrigin = args.iframeNotifyParentOrigin,\n            iframeScriptOrigin = args.iframeScriptOrigin,\n\n            silent_redirect_uri = args.redirect_uri,\n            silentRequestTimeoutInSeconds = DefaultSilentRequestTimeoutInSeconds,\n            automaticSilentRenew = true,\n            validateSubOnSilentRenew = true,\n            includeIdTokenInSilentRenew = false,\n\n            monitorSession = false,\n            monitorAnonymousSession = false,\n            checkSessionIntervalInSeconds = DefaultCheckSessionIntervalInSeconds,\n            query_status_response_type = \"code\",\n            stopCheckSessionOnError = true,\n\n            revokeTokenTypes = [\"access_token\", \"refresh_token\"],\n            revokeTokensOnSignout = false,\n            includeIdTokenInSilentSignout = false,\n\n            accessTokenExpiringNotificationTimeInSeconds = DefaultAccessTokenExpiringNotificationTimeInSeconds,\n\n            userStore,\n        } = args;\n\n        super(args);\n\n        this.popup_redirect_uri = popup_redirect_uri;\n        this.popup_post_logout_redirect_uri = popup_post_logout_redirect_uri;\n        this.popupWindowFeatures = popupWindowFeatures;\n        this.popupWindowTarget = popupWindowTarget;\n        this.redirectMethod = redirectMethod;\n        this.redirectTarget = redirectTarget;\n\n        this.iframeNotifyParentOrigin = iframeNotifyParentOrigin;\n        this.iframeScriptOrigin = iframeScriptOrigin;\n\n        this.silent_redirect_uri = silent_redirect_uri;\n        this.silentRequestTimeoutInSeconds = silentRequestTimeoutInSeconds;\n        this.automaticSilentRenew = automaticSilentRenew;\n        this.validateSubOnSilentRenew = validateSubOnSilentRenew;\n        this.includeIdTokenInSilentRenew = includeIdTokenInSilentRenew;\n\n        this.monitorSession = monitorSession;\n        this.monitorAnonymousSession = monitorAnonymousSession;\n        this.checkSessionIntervalInSeconds = checkSessionIntervalInSeconds;\n        this.stopCheckSessionOnError = stopCheckSessionOnError;\n        this.query_status_response_type = query_status_response_type;\n\n        this.revokeTokenTypes = revokeTokenTypes;\n        this.revokeTokensOnSignout = revokeTokensOnSignout;\n        this.includeIdTokenInSilentSignout = includeIdTokenInSilentSignout;\n\n        this.accessTokenExpiringNotificationTimeInSeconds = accessTokenExpiringNotificationTimeInSeconds;\n\n        if (userStore) {\n            this.userStore = userStore;\n        }\n        else {\n            const store = typeof window !== \"undefined\" ? window.sessionStorage : new InMemoryWebStorage();\n            this.userStore = new WebStorageStateStore({ store });\n        }\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport { ErrorTimeout } from \"../errors\";\nimport type { NavigateParams, NavigateResponse } from \"./IWindow\";\nimport { AbstractChildWindow } from \"./AbstractChildWindow\";\nimport { DefaultSilentRequestTimeoutInSeconds } from \"../UserManagerSettings\";\n\n/**\n * @public\n */\nexport interface IFrameWindowParams {\n    silentRequestTimeoutInSeconds?: number;\n}\n\n/**\n * @internal\n */\nexport class IFrameWindow extends AbstractChildWindow {\n    protected readonly _logger = new Logger(\"IFrameWindow\");\n    private _frame: HTMLIFrameElement | null;\n    private _timeoutInSeconds: number;\n\n    public constructor({\n        silentRequestTimeoutInSeconds = DefaultSilentRequestTimeoutInSeconds,\n    }: IFrameWindowParams) {\n        super();\n        this._timeoutInSeconds = silentRequestTimeoutInSeconds;\n\n        this._frame = IFrameWindow.createHiddenIframe();\n        this._window = this._frame.contentWindow;\n    }\n\n    private static createHiddenIframe(): HTMLIFrameElement {\n        const iframe = window.document.createElement(\"iframe\");\n\n        // shotgun approach\n        iframe.style.visibility = \"hidden\";\n        iframe.style.position = \"fixed\";\n        iframe.style.left = \"-1000px\";\n        iframe.style.top = \"0\";\n        iframe.width = \"0\";\n        iframe.height = \"0\";\n\n        window.document.body.appendChild(iframe);\n        return iframe;\n    }\n\n    public async navigate(params: NavigateParams): Promise<NavigateResponse> {\n        this._logger.debug(\"navigate: Using timeout of:\", this._timeoutInSeconds);\n        const timer = setTimeout(() => this._abort.raise(new ErrorTimeout(\"IFrame timed out without a response\")), this._timeoutInSeconds * 1000);\n        this._disposeHandlers.add(() => clearTimeout(timer));\n\n        return await super.navigate(params);\n    }\n\n    public close(): void {\n        if (this._frame) {\n            if (this._frame.parentNode) {\n                this._frame.addEventListener(\"load\", (ev) => {\n                    const frame = ev.target as HTMLIFrameElement;\n                    frame.parentNode?.removeChild(frame);\n                    this._abort.raise(new Error(\"IFrame removed from DOM\"));\n                }, true);\n                this._frame.contentWindow?.location.replace(\"about:blank\");\n            }\n            this._frame = null;\n        }\n        this._window = null;\n    }\n\n    public static notifyParent(url: string, targetOrigin?: string): void {\n        return super._notifyParent(window.parent, url, false, targetOrigin);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport type { UserManagerSettingsStore } from \"../UserManagerSettings\";\nimport { IFrameWindow, type IFrameWindowParams } from \"./IFrameWindow\";\nimport type { INavigator } from \"./INavigator\";\n\n/**\n * @internal\n */\nexport class IFrameNavigator implements INavigator {\n    private readonly _logger = new Logger(\"IFrameNavigator\");\n\n    constructor(private _settings: UserManagerSettingsStore) {}\n\n    public async prepare({\n        silentRequestTimeoutInSeconds = this._settings.silentRequestTimeoutInSeconds,\n    }: IFrameWindowParams): Promise<IFrameWindow> {\n        return new IFrameWindow({ silentRequestTimeoutInSeconds });\n    }\n\n    public async callback(url: string): Promise<void> {\n        this._logger.create(\"callback\");\n        IFrameWindow.notifyParent(url, this._settings.iframeNotifyParentOrigin);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, PopupUtils, type PopupWindowFeatures } from \"../utils\";\nimport { DefaultPopupWindowFeatures, DefaultPopupTarget } from \"../UserManagerSettings\";\nimport { AbstractChildWindow } from \"./AbstractChildWindow\";\nimport type { NavigateParams, NavigateResponse } from \"./IWindow\";\n\nconst checkForPopupClosedInterval = 500;\nconst second = 1000;\n\n/**\n * @public\n */\nexport interface PopupWindowParams {\n    popupWindowFeatures?: PopupWindowFeatures;\n    popupWindowTarget?: string;\n}\n\n/**\n * @internal\n */\nexport class PopupWindow extends AbstractChildWindow {\n    protected readonly _logger = new Logger(\"PopupWindow\");\n\n    protected _window: WindowProxy | null;\n\n    public constructor({\n        popupWindowTarget = DefaultPopupTarget,\n        popupWindowFeatures = {},\n    }: PopupWindowParams) {\n        super();\n        const centeredPopup = PopupUtils.center({ ...DefaultPopupWindowFeatures, ...popupWindowFeatures });\n        this._window = window.open(undefined, popupWindowTarget, PopupUtils.serialize(centeredPopup));\n        if (popupWindowFeatures.closePopupWindowAfterInSeconds && popupWindowFeatures.closePopupWindowAfterInSeconds > 0) {\n            setTimeout(() => {\n                if (!this._window || typeof this._window.closed !== \"boolean\" || this._window.closed) {\n                    this._abort.raise(new Error(\"Popup blocked by user\"));\n                    return;\n                }\n\n                this.close();\n            }, popupWindowFeatures.closePopupWindowAfterInSeconds * second);\n        }\n    }\n\n    public async navigate(params: NavigateParams): Promise<NavigateResponse> {\n        this._window?.focus();\n\n        const popupClosedInterval = setInterval(() => {\n            if (!this._window || this._window.closed) {\n                this._abort.raise(new Error(\"Popup closed by user\"));\n            }\n        }, checkForPopupClosedInterval);\n        this._disposeHandlers.add(() => clearInterval(popupClosedInterval));\n\n        return await super.navigate(params);\n    }\n\n    public close(): void {\n        if (this._window) {\n            if (!this._window.closed) {\n                this._window.close();\n                this._abort.raise(new Error(\"Popup closed\"));\n            }\n        }\n        this._window = null;\n    }\n\n    public static notifyOpener(url: string, keepOpen: boolean): void {\n        if (!window.opener) {\n            throw new Error(\"No window.opener. Can't complete notification.\");\n        }\n        return super._notifyParent(window.opener, url, keepOpen);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport { PopupWindow, type PopupWindowParams } from \"./PopupWindow\";\nimport type { INavigator } from \"./INavigator\";\nimport type { UserManagerSettingsStore } from \"../UserManagerSettings\";\n\n/**\n * @internal\n */\nexport class PopupNavigator implements INavigator {\n    private readonly _logger = new Logger(\"PopupNavigator\");\n\n    constructor(private _settings: UserManagerSettingsStore) {}\n\n    public async prepare({\n        popupWindowFeatures = this._settings.popupWindowFeatures,\n        popupWindowTarget = this._settings.popupWindowTarget,\n    }: PopupWindowParams): Promise<PopupWindow> {\n        return new PopupWindow({ popupWindowFeatures, popupWindowTarget });\n    }\n\n    public async callback(url: string, { keepOpen = false }): Promise<void> {\n        this._logger.create(\"callback\");\n\n        PopupWindow.notifyOpener(url, keepOpen);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport type { UserManagerSettingsStore } from \"../UserManagerSettings\";\nimport type { INavigator } from \"./INavigator\";\nimport type { IWindow } from \"./IWindow\";\n\n/**\n * @public\n */\nexport interface RedirectParams {\n    redirectMethod?: \"replace\" | \"assign\";\n    redirectTarget?: \"top\" | \"self\";\n}\n\n/**\n * @internal\n */\nexport class RedirectNavigator implements INavigator {\n    private readonly _logger = new Logger(\"RedirectNavigator\");\n\n    constructor(private _settings: UserManagerSettingsStore) {}\n\n    public async prepare({\n        redirectMethod = this._settings.redirectMethod,\n        redirectTarget = this._settings.redirectTarget,\n    }: RedirectParams): Promise<IWindow> {\n        this._logger.create(\"prepare\");\n        let targetWindow = window.self as Window;\n\n        if (redirectTarget === \"top\") {\n            targetWindow = window.top ?? window.self;\n        }\n    \n        const redirect = targetWindow.location[redirectMethod].bind(targetWindow.location) as (url: string) => never;\n        let abort: (reason: Error) => void;\n        return {\n            navigate: async (params): Promise<never> => {\n                this._logger.create(\"navigate\");\n                // We use a promise that never resolves to block the caller\n                const promise = new Promise((resolve, reject) => {\n                    abort = reject;\n                });\n                redirect(params.url);\n                return await (promise as Promise<never>);\n            },\n            close: () => {\n                this._logger.create(\"close\");\n                abort?.(new Error(\"Redirect aborted\"));\n                targetWindow.stop();\n            },\n        };\n    }\n\n    public async callback(): Promise<void> {\n        return;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Event } from \"./utils\";\nimport { AccessTokenEvents } from \"./AccessTokenEvents\";\nimport type { UserManagerSettingsStore } from \"./UserManagerSettings\";\nimport type { User } from \"./User\";\n\n/**\n * @public\n */\nexport type UserLoadedCallback = (user: User) => Promise<void> | void;\n/**\n * @public\n */\nexport type UserUnloadedCallback = () => Promise<void> | void;\n/**\n * @public\n */\nexport type SilentRenewErrorCallback = (error: Error) => Promise<void> | void;\n/**\n * @public\n */\nexport type UserSignedInCallback = () => Promise<void> | void;\n/**\n * @public\n */\nexport type UserSignedOutCallback = () => Promise<void> | void;\n/**\n * @public\n */\nexport type UserSessionChangedCallback = () => Promise<void> | void;\n\n/**\n * @public\n */\nexport class UserManagerEvents extends AccessTokenEvents {\n    protected readonly _logger = new Logger(\"UserManagerEvents\");\n\n    private readonly _userLoaded = new Event<[User]>(\"User loaded\");\n    private readonly _userUnloaded = new Event<[]>(\"User unloaded\");\n    private readonly _silentRenewError = new Event<[Error]>(\"Silent renew error\");\n    private readonly _userSignedIn = new Event<[]>(\"User signed in\");\n    private readonly _userSignedOut = new Event<[]>(\"User signed out\");\n    private readonly _userSessionChanged = new Event<[]>(\"User session changed\");\n\n    public constructor(settings: UserManagerSettingsStore) {\n        super({ expiringNotificationTimeInSeconds: settings.accessTokenExpiringNotificationTimeInSeconds });\n    }\n\n    public load(user: User, raiseEvent=true): void {\n        super.load(user);\n        if (raiseEvent) {\n            this._userLoaded.raise(user);\n        }\n    }\n    public unload(): void {\n        super.unload();\n        this._userUnloaded.raise();\n    }\n\n    /**\n     * Add callback: Raised when a user session has been established (or re-established).\n     */\n    public addUserLoaded(cb: UserLoadedCallback): () => void {\n        return this._userLoaded.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when a user session has been established (or re-established).\n     */\n    public removeUserLoaded(cb: UserLoadedCallback): void {\n        return this._userLoaded.removeHandler(cb);\n    }\n\n    /**\n     * Add callback: Raised when a user session has been terminated.\n     */\n    public addUserUnloaded(cb: UserUnloadedCallback): () => void {\n        return this._userUnloaded.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when a user session has been terminated.\n     */\n    public removeUserUnloaded(cb: UserUnloadedCallback): void {\n        return this._userUnloaded.removeHandler(cb);\n    }\n\n    /**\n     * Add callback: Raised when the automatic silent renew has failed.\n     */\n    public addSilentRenewError(cb: SilentRenewErrorCallback): () => void {\n        return this._silentRenewError.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the automatic silent renew has failed.\n     */\n    public removeSilentRenewError(cb: SilentRenewErrorCallback): void {\n        return this._silentRenewError.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public _raiseSilentRenewError(e: Error): void {\n        this._silentRenewError.raise(e);\n    }\n\n    /**\n     * Add callback: Raised when the user is signed in (when `monitorSession` is set).\n     * @see {@link UserManagerSettings.monitorSession}\n     */\n    public addUserSignedIn(cb: UserSignedInCallback): () => void {\n        return this._userSignedIn.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the user is signed in (when `monitorSession` is set).\n     */\n    public removeUserSignedIn(cb: UserSignedInCallback): void {\n        this._userSignedIn.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public _raiseUserSignedIn(): void {\n        this._userSignedIn.raise();\n    }\n\n    /**\n     * Add callback: Raised when the user's sign-in status at the OP has changed (when `monitorSession` is set).\n     * @see {@link UserManagerSettings.monitorSession}\n     */\n    public addUserSignedOut(cb: UserSignedOutCallback): () => void {\n        return this._userSignedOut.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the user's sign-in status at the OP has changed (when `monitorSession` is set).\n     */\n    public removeUserSignedOut(cb: UserSignedOutCallback): void {\n        this._userSignedOut.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public _raiseUserSignedOut(): void {\n        this._userSignedOut.raise();\n    }\n\n    /**\n     * Add callback: Raised when the user session changed (when `monitorSession` is set).\n     * @see {@link UserManagerSettings.monitorSession}\n     */\n    public addUserSessionChanged(cb: UserSessionChangedCallback): () => void {\n        return this._userSessionChanged.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the user session changed (when `monitorSession` is set).\n     */\n    public removeUserSessionChanged(cb: UserSessionChangedCallback): void {\n        this._userSessionChanged.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public _raiseUserSessionChanged(): void {\n        this._userSessionChanged.raise();\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Timer } from \"./utils\";\nimport { ErrorTimeout } from \"./errors\";\nimport type { UserManager } from \"./UserManager\";\nimport type { AccessTokenCallback } from \"./AccessTokenEvents\";\n\n/**\n * @internal\n */\nexport class SilentRenewService {\n    protected _logger = new Logger(\"SilentRenewService\");\n    private _isStarted = false;\n    private readonly _retryTimer = new Timer(\"Retry Silent Renew\");\n\n    public constructor(private _userManager: UserManager) {}\n\n    public async start(): Promise<void> {\n        const logger = this._logger.create(\"start\");\n        if (!this._isStarted) {\n            this._isStarted = true;\n            this._userManager.events.addAccessTokenExpiring(this._tokenExpiring);\n            this._retryTimer.addHandler(this._tokenExpiring);\n\n            // this will trigger loading of the user so the expiring events can be initialized\n            try {\n                await this._userManager.getUser();\n                // deliberate nop\n            }\n            catch (err) {\n                // catch to suppress errors since we're in a ctor\n                logger.error(\"getUser error\", err);\n            }\n        }\n    }\n\n    public stop(): void {\n        if (this._isStarted) {\n            this._retryTimer.cancel();\n            this._retryTimer.removeHandler(this._tokenExpiring);\n            this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring);\n            this._isStarted = false;\n        }\n    }\n\n    protected _tokenExpiring: AccessTokenCallback = async () => {\n        const logger = this._logger.create(\"_tokenExpiring\");\n        try {\n            await this._userManager.signinSilent();\n            logger.debug(\"silent token renewal successful\");\n        }\n        catch (err) {\n            if (err instanceof ErrorTimeout) {\n                // no response from authority server, e.g. IFrame timeout, ...\n                logger.warn(\"ErrorTimeout from signinSilent:\", err, \"retry in 5s\");\n                this._retryTimer.init(5);\n                return;\n            }\n\n            logger.error(\"Error from signinSilent:\", err);\n            this._userManager.events._raiseSilentRenewError(err as Error);\n        }\n    };\n}\n","// Copyright (C) AuthTS Contributors\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport type { UserProfile } from \"./User\";\n\n/**\n * Fake state store implementation necessary for validating refresh token requests.\n *\n * @public\n */\nexport class RefreshState {\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    public readonly data?: unknown;\n\n    public readonly refresh_token: string;\n    public readonly id_token?: string;\n    public readonly session_state: string | null;\n    public readonly scope?: string;\n    public readonly profile: UserProfile;\n    public readonly resource?: string | string[];\n\n    constructor(args: {\n        refresh_token: string;\n        id_token?: string;\n        session_state: string | null;\n        scope?: string;\n        profile: UserProfile;\n\n        state?: unknown;\n    }, resource?: string | string[]) {\n        this.refresh_token = args.refresh_token;\n        this.id_token = args.id_token;\n        this.session_state = args.session_state;\n        this.scope = args.scope;\n        this.profile = args.profile;\n        this.resource = resource;\n\n        this.data = args.state;\n\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { ErrorResponse } from \"./errors\";\nimport { type NavigateResponse, type PopupWindowParams, type IWindow, type IFrameWindowParams, type RedirectParams, RedirectNavigator, PopupNavigator, IFrameNavigator, type INavigator } from \"./navigators\";\nimport { OidcClient, type CreateSigninRequestArgs, type CreateSignoutRequestArgs, type ProcessResourceOwnerPasswordCredentialsArgs } from \"./OidcClient\";\nimport { type UserManagerSettings, UserManagerSettingsStore } from \"./UserManagerSettings\";\nimport { User } from \"./User\";\nimport { UserManagerEvents } from \"./UserManagerEvents\";\nimport { SilentRenewService } from \"./SilentRenewService\";\nimport { SessionMonitor } from \"./SessionMonitor\";\nimport type { SessionStatus } from \"./SessionStatus\";\nimport type { SignoutResponse } from \"./SignoutResponse\";\nimport type { MetadataService } from \"./MetadataService\";\nimport { RefreshState } from \"./RefreshState\";\nimport type { SigninResponse } from \"./SigninResponse\";\n\n/**\n * @public\n */\nexport type ExtraSigninRequestArgs = Pick<CreateSigninRequestArgs, \"nonce\" | \"extraQueryParams\" | \"extraTokenParams\" | \"state\" | \"redirect_uri\" | \"prompt\" | \"acr_values\" | \"login_hint\" | \"scope\" | \"max_age\" | \"ui_locales\" | \"resource\">;\n/**\n * @public\n */\nexport type ExtraSignoutRequestArgs = Pick<CreateSignoutRequestArgs, \"extraQueryParams\" | \"state\" | \"id_token_hint\" | \"post_logout_redirect_uri\">;\n\n/**\n * @public\n */\nexport type RevokeTokensTypes = UserManagerSettings[\"revokeTokenTypes\"];\n\n/**\n * @public\n */\nexport type SigninRedirectArgs = RedirectParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SigninPopupArgs = PopupWindowParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SigninSilentArgs = IFrameWindowParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SigninResourceOwnerCredentialsArgs = ProcessResourceOwnerPasswordCredentialsArgs;\n\n/**\n * @public\n */\nexport type QuerySessionStatusArgs = IFrameWindowParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SignoutRedirectArgs = RedirectParams & ExtraSignoutRequestArgs;\n\n/**\n * @public\n */\nexport type SignoutPopupArgs = PopupWindowParams & ExtraSignoutRequestArgs;\n\n/**\n * @public\n */\nexport type SignoutSilentArgs = IFrameWindowParams & ExtraSignoutRequestArgs;\n\n/**\n * Provides a higher level API for signing a user in, signing out, managing the user's claims returned from the OIDC provider,\n * and managing an access token returned from the OIDC/OAuth2 provider.\n *\n * @public\n */\nexport class UserManager {\n    /** Returns the settings used to configure the `UserManager`. */\n    public readonly settings: UserManagerSettingsStore;\n    protected readonly _logger = new Logger(\"UserManager\");\n\n    protected readonly _client: OidcClient;\n    protected readonly _redirectNavigator: INavigator;\n    protected readonly _popupNavigator: INavigator;\n    protected readonly _iframeNavigator: INavigator;\n    protected readonly _events: UserManagerEvents;\n    protected readonly _silentRenewService: SilentRenewService;\n    protected readonly _sessionMonitor: SessionMonitor | null;\n\n    public constructor(settings: UserManagerSettings, redirectNavigator?: INavigator, popupNavigator?: INavigator, iframeNavigator?: INavigator) {\n        this.settings = new UserManagerSettingsStore(settings);\n\n        this._client = new OidcClient(settings);\n\n        this._redirectNavigator = redirectNavigator ?? new RedirectNavigator(this.settings);\n        this._popupNavigator = popupNavigator ?? new PopupNavigator(this.settings);\n        this._iframeNavigator = iframeNavigator ?? new IFrameNavigator(this.settings);\n\n        this._events = new UserManagerEvents(this.settings);\n        this._silentRenewService = new SilentRenewService(this);\n\n        // order is important for the following properties; these services depend upon the events.\n        if (this.settings.automaticSilentRenew) {\n            this.startSilentRenew();\n        }\n\n        this._sessionMonitor = null;\n        if (this.settings.monitorSession) {\n            this._sessionMonitor = new SessionMonitor(this);\n        }\n\n    }\n\n    /** Returns an object used to register for events raised by the `UserManager`. */\n    public get events(): UserManagerEvents {\n        return this._events;\n    }\n\n    /** Returns an object used to access the metadata configuration of the OIDC provider. */\n    public get metadataService(): MetadataService {\n        return this._client.metadataService;\n    }\n\n    /**\n     * Returns promise to load the `User` object for the currently authenticated user.\n     */\n    public async getUser(): Promise<User | null> {\n        const logger = this._logger.create(\"getUser\");\n        const user = await this._loadUser();\n        if (user) {\n            logger.info(\"user loaded\");\n            this._events.load(user, false);\n            return user;\n        }\n\n        logger.info(\"user not found in storage\");\n        return null;\n    }\n\n    /**\n     * Returns promise to remove from any storage the currently authenticated user.\n     */\n    public async removeUser(): Promise<void> {\n        const logger = this._logger.create(\"removeUser\");\n        await this.storeUser(null);\n        logger.info(\"user removed from storage\");\n        this._events.unload();\n    }\n\n    /**\n     * Returns promise to trigger a redirect of the current window to the authorization endpoint.\n     */\n    public async signinRedirect(args: SigninRedirectArgs = {}): Promise<void> {\n        this._logger.create(\"signinRedirect\");\n        const {\n            redirectMethod,\n            ...requestArgs\n        } = args;\n        const handle = await this._redirectNavigator.prepare({ redirectMethod });\n        await this._signinStart({\n            request_type: \"si:r\",\n            ...requestArgs,\n        }, handle);\n    }\n\n    /**\n     * Returns promise to process response from the authorization endpoint. The result of the promise is the authenticated `User`.\n     */\n    public async signinRedirectCallback(url = window.location.href): Promise<User> {\n        const logger = this._logger.create(\"signinRedirectCallback\");\n        const user = await this._signinEnd(url);\n        if (user.profile && user.profile.sub) {\n            logger.info(\"success, signed in subject\", user.profile.sub);\n        }\n        else {\n            logger.info(\"no subject\");\n        }\n\n        return user;\n    }\n\n    /**\n     * Returns promise to process the signin with user/password. The result of the promise is the authenticated `User`.\n     *\n     * Throws an ErrorResponse in case of wrong authentication.\n     */\n    public async signinResourceOwnerCredentials({\n        username,\n        password,\n        skipUserInfo = false,\n    }: SigninResourceOwnerCredentialsArgs ) {\n        const logger = this._logger.create(\"signinResourceOwnerCredential\");\n\n        const signinResponse = await this._client.processResourceOwnerPasswordCredentials({ username, password, skipUserInfo, extraTokenParams: this.settings.extraTokenParams });\n        logger.debug(\"got signin response\");\n\n        const user = await this._buildUser(signinResponse);\n        if (user.profile && user.profile.sub) {\n            logger.info(\"success, signed in subject\", user.profile.sub);\n        } else {\n            logger.info(\"no subject\");\n        }\n        return user;\n    }\n\n    /**\n     * Returns promise to trigger a request (via a popup window) to the authorization endpoint. The result of the promise is the authenticated `User`.\n     */\n    public async signinPopup(args: SigninPopupArgs = {}): Promise<User> {\n        const logger = this._logger.create(\"signinPopup\");\n        const {\n            popupWindowFeatures,\n            popupWindowTarget,\n            ...requestArgs\n        } = args;\n        const url = this.settings.popup_redirect_uri;\n        if (!url) {\n            logger.throw(new Error(\"No popup_redirect_uri configured\"));\n        }\n\n        const handle = await this._popupNavigator.prepare({ popupWindowFeatures, popupWindowTarget });\n        const user = await this._signin({\n            request_type: \"si:p\",\n            redirect_uri: url,\n            display: \"popup\",\n            ...requestArgs,\n        }, handle);\n        if (user) {\n            if (user.profile && user.profile.sub) {\n                logger.info(\"success, signed in subject\", user.profile.sub);\n            }\n            else {\n                logger.info(\"no subject\");\n            }\n        }\n\n        return user;\n    }\n    /**\n     * Returns promise to notify the opening window of response from the authorization endpoint.\n     */\n    public async signinPopupCallback(url = window.location.href, keepOpen = false): Promise<void> {\n        const logger = this._logger.create(\"signinPopupCallback\");\n        await this._popupNavigator.callback(url, { keepOpen });\n        logger.info(\"success\");\n    }\n\n    /**\n     * Returns promise to trigger a silent request (via an iframe) to the authorization endpoint.\n     * The result of the promise is the authenticated `User`.\n     */\n    public async signinSilent(args: SigninSilentArgs = {}): Promise<User | null> {\n        const logger = this._logger.create(\"signinSilent\");\n        const {\n            silentRequestTimeoutInSeconds,\n            resource,\n            ...requestArgs\n        } = args;\n        // first determine if we have a refresh token, or need to use iframe\n        let user = await this._loadUser();\n        if (user?.refresh_token) {\n            logger.debug(\"using refresh token\");\n            const state = new RefreshState(user as Required<User>, resource);\n            return await this._useRefreshToken(state);\n        }\n\n        const url = this.settings.silent_redirect_uri;\n        if (!url) {\n            logger.throw(new Error(\"No silent_redirect_uri configured\"));\n        }\n\n        let verifySub: string | undefined;\n        if (user && this.settings.validateSubOnSilentRenew) {\n            logger.debug(\"subject prior to silent renew:\", user.profile.sub);\n            verifySub = user.profile.sub;\n        }\n\n        const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n        user = await this._signin({\n            request_type: \"si:s\",\n            redirect_uri: url,\n            prompt: \"none\",\n            id_token_hint: this.settings.includeIdTokenInSilentRenew ? user?.id_token : undefined,\n            ...requestArgs,\n        }, handle, verifySub);\n        if (user) {\n            if (user.profile?.sub) {\n                logger.info(\"success, signed in subject\", user.profile.sub);\n            }\n            else {\n                logger.info(\"no subject\");\n            }\n        }\n\n        return user;\n    }\n\n    protected async _useRefreshToken(state: RefreshState): Promise<User> {\n        const response = await this._client.useRefreshToken({\n            state,\n            timeoutInSeconds: this.settings.silentRequestTimeoutInSeconds,\n        });\n        const user = new User({ ...state, ...response });\n\n        await this.storeUser(user);\n        this._events.load(user);\n        return user;\n    }\n\n    /**\n     * Returns promise to notify the parent window of response from the authorization endpoint.\n     */\n    public async signinSilentCallback(url = window.location.href): Promise<void> {\n        const logger = this._logger.create(\"signinSilentCallback\");\n        await this._iframeNavigator.callback(url);\n        logger.info(\"success\");\n    }\n\n    public async signinCallback(url = window.location.href): Promise<User | void> {\n        const { state } = await this._client.readSigninResponseState(url);\n        switch (state.request_type) {\n            case \"si:r\":\n                return await this.signinRedirectCallback(url);\n            case \"si:p\":\n                return await this.signinPopupCallback(url);\n            case \"si:s\":\n                return await this.signinSilentCallback(url);\n            default:\n                throw new Error(\"invalid response_type in state\");\n        }\n    }\n\n    public async signoutCallback(url = window.location.href, keepOpen = false): Promise<void> {\n        const { state } = await this._client.readSignoutResponseState(url);\n        if (!state) {\n            return;\n        }\n\n        switch (state.request_type) {\n            case \"so:r\":\n                await this.signoutRedirectCallback(url);\n                break;\n            case \"so:p\":\n                await this.signoutPopupCallback(url, keepOpen);\n                break;\n            case \"so:s\":\n                await this.signoutSilentCallback(url);\n                break;\n            default:\n                throw new Error(\"invalid response_type in state\");\n        }\n    }\n\n    /**\n     * Returns promise to query OP for user's current signin status. Returns object with session_state and subject identifier.\n     */\n    public async querySessionStatus(args: QuerySessionStatusArgs = {}): Promise<SessionStatus | null> {\n        const logger = this._logger.create(\"querySessionStatus\");\n        const {\n            silentRequestTimeoutInSeconds,\n            ...requestArgs\n        } = args;\n        const url = this.settings.silent_redirect_uri;\n        if (!url) {\n            logger.throw(new Error(\"No silent_redirect_uri configured\"));\n        }\n\n        const user = await this._loadUser();\n        const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n        const navResponse = await this._signinStart({\n            request_type: \"si:s\", // this acts like a signin silent\n            redirect_uri: url,\n            prompt: \"none\",\n            id_token_hint: this.settings.includeIdTokenInSilentRenew ? user?.id_token : undefined,\n            response_type: this.settings.query_status_response_type,\n            scope: \"openid\",\n            skipUserInfo: true,\n            ...requestArgs,\n        }, handle);\n        try {\n            const signinResponse = await this._client.processSigninResponse(navResponse.url);\n            logger.debug(\"got signin response\");\n\n            if (signinResponse.session_state && signinResponse.profile.sub) {\n                logger.info(\"success for subject\", signinResponse.profile.sub);\n                return {\n                    session_state: signinResponse.session_state,\n                    sub: signinResponse.profile.sub,\n                    sid: signinResponse.profile.sid,\n                };\n            }\n\n            logger.info(\"success, user not authenticated\");\n            return null;\n        }\n        catch (err) {\n            if (this.settings.monitorAnonymousSession && err instanceof ErrorResponse) {\n                switch (err.error) {\n                    case \"login_required\":\n                    case \"consent_required\":\n                    case \"interaction_required\":\n                    case \"account_selection_required\":\n                        logger.info(\"success for anonymous user\");\n                        return {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            session_state: err.session_state!,\n                        };\n                }\n            }\n            throw err;\n        }\n    }\n\n    protected async _signin(args: CreateSigninRequestArgs, handle: IWindow, verifySub?: string): Promise<User> {\n        const navResponse = await this._signinStart(args, handle);\n        return await this._signinEnd(navResponse.url, verifySub);\n    }\n    protected async _signinStart(args: CreateSigninRequestArgs, handle: IWindow): Promise<NavigateResponse> {\n        const logger = this._logger.create(\"_signinStart\");\n\n        try {\n            const signinRequest = await this._client.createSigninRequest(args);\n            logger.debug(\"got signin request\");\n\n            return await handle.navigate({\n                url: signinRequest.url,\n                state: signinRequest.state.id,\n                response_mode: signinRequest.state.response_mode,\n                scriptOrigin: this.settings.iframeScriptOrigin,\n            });\n        }\n        catch (err) {\n            logger.debug(\"error after preparing navigator, closing navigator window\");\n            handle.close();\n            throw err;\n        }\n    }\n    protected async _signinEnd(url: string, verifySub?: string): Promise<User> {\n        const logger = this._logger.create(\"_signinEnd\");\n        const signinResponse = await this._client.processSigninResponse(url);\n        logger.debug(\"got signin response\");\n\n        const user = await this._buildUser(signinResponse, verifySub);\n        return user;\n    }\n\n    protected async _buildUser(signinResponse: SigninResponse, verifySub?: string) {\n        const logger = this._logger.create(\"_buildUser\");\n        const user = new User(signinResponse);\n        if (verifySub) {\n            if (verifySub !== user.profile.sub) {\n                logger.debug(\"current user does not match user returned from signin. sub from signin:\", user.profile.sub);\n                throw new ErrorResponse({ ...signinResponse, error: \"login_required\" });\n            }\n            logger.debug(\"current user matches user returned from signin\");\n        }\n\n        await this.storeUser(user);\n        logger.debug(\"user stored\");\n        this._events.load(user);\n\n        return user;\n    }\n\n    /**\n     * Returns promise to trigger a redirect of the current window to the end session endpoint.\n     */\n    public async signoutRedirect(args: SignoutRedirectArgs = {}): Promise<void> {\n        const logger = this._logger.create(\"signoutRedirect\");\n        const {\n            redirectMethod,\n            ...requestArgs\n        } = args;\n        const handle = await this._redirectNavigator.prepare({ redirectMethod });\n        await this._signoutStart({\n            request_type: \"so:r\",\n            post_logout_redirect_uri: this.settings.post_logout_redirect_uri,\n            ...requestArgs,\n        }, handle);\n        logger.info(\"success\");\n    }\n\n    /**\n     * Returns promise to process response from the end session endpoint.\n     */\n    public async signoutRedirectCallback(url = window.location.href): Promise<SignoutResponse> {\n        const logger = this._logger.create(\"signoutRedirectCallback\");\n        const response = await this._signoutEnd(url);\n        logger.info(\"success\");\n        return response;\n    }\n\n    /**\n     * Returns promise to trigger a redirect of a popup window window to the end session endpoint.\n     */\n    public async signoutPopup(args: SignoutPopupArgs = {}): Promise<void> {\n        const logger = this._logger.create(\"signoutPopup\");\n        const {\n            popupWindowFeatures,\n            popupWindowTarget,\n            ...requestArgs\n        } = args;\n        const url = this.settings.popup_post_logout_redirect_uri;\n\n        const handle = await this._popupNavigator.prepare({ popupWindowFeatures, popupWindowTarget });\n        await this._signout({\n            request_type: \"so:p\",\n            post_logout_redirect_uri: url,\n            // we're putting a dummy entry in here because we\n            // need a unique id from the state for notification\n            // to the parent window, which is necessary if we\n            // plan to return back to the client after signout\n            // and so we can close the popup after signout\n            state: url == null ? undefined : {},\n            ...requestArgs,\n        }, handle);\n        logger.info(\"success\");\n    }\n\n    /**\n     * Returns promise to process response from the end session endpoint from a popup window.\n     */\n    public async signoutPopupCallback(url = window.location.href, keepOpen = false): Promise<void> {\n        const logger = this._logger.create(\"signoutPopupCallback\");\n        await this._popupNavigator.callback(url, { keepOpen });\n        logger.info(\"success\");\n    }\n\n    protected async _signout(args: CreateSignoutRequestArgs, handle: IWindow): Promise<SignoutResponse> {\n        const navResponse = await this._signoutStart(args, handle);\n        return await this._signoutEnd(navResponse.url);\n    }\n    protected async _signoutStart(args: CreateSignoutRequestArgs = {}, handle: IWindow): Promise<NavigateResponse> {\n        const logger = this._logger.create(\"_signoutStart\");\n\n        try {\n            const user = await this._loadUser();\n            logger.debug(\"loaded current user from storage\");\n\n            if (this.settings.revokeTokensOnSignout) {\n                await this._revokeInternal(user);\n            }\n\n            const id_token = args.id_token_hint || user && user.id_token;\n            if (id_token) {\n                logger.debug(\"setting id_token_hint in signout request\");\n                args.id_token_hint = id_token;\n            }\n\n            await this.removeUser();\n            logger.debug(\"user removed, creating signout request\");\n\n            const signoutRequest = await this._client.createSignoutRequest(args);\n            logger.debug(\"got signout request\");\n\n            return await handle.navigate({\n                url: signoutRequest.url,\n                state: signoutRequest.state?.id,\n                scriptOrigin: this.settings.iframeScriptOrigin,\n            });\n        }\n        catch (err) {\n            logger.debug(\"error after preparing navigator, closing navigator window\");\n            handle.close();\n            throw err;\n        }\n    }\n    protected async _signoutEnd(url: string): Promise<SignoutResponse> {\n        const logger = this._logger.create(\"_signoutEnd\");\n        const signoutResponse = await this._client.processSignoutResponse(url);\n        logger.debug(\"got signout response\");\n\n        return signoutResponse;\n    }\n\n    /**\n     * Returns promise to trigger a silent request (via an iframe) to the end session endpoint.\n     */\n    public async signoutSilent(args: SignoutSilentArgs = {}): Promise<void> {\n        const logger = this._logger.create(\"signoutSilent\");\n        const {\n            silentRequestTimeoutInSeconds,\n            ...requestArgs\n        } = args;\n\n        const id_token_hint = this.settings.includeIdTokenInSilentSignout\n            ? (await this._loadUser())?.id_token\n            : undefined;\n\n        const url = this.settings.popup_post_logout_redirect_uri;\n        const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n        await this._signout({\n            request_type: \"so:s\",\n            post_logout_redirect_uri: url,\n            id_token_hint: id_token_hint,\n            ...requestArgs,\n        }, handle);\n\n        logger.info(\"success\");\n    }\n\n    /**\n     * Returns promise to notify the parent window of response from the end session endpoint.\n     */\n    public async signoutSilentCallback(url = window.location.href): Promise<void> {\n        const logger = this._logger.create(\"signoutSilentCallback\");\n        await this._iframeNavigator.callback(url);\n        logger.info(\"success\");\n    }\n\n    public async revokeTokens(types?: RevokeTokensTypes): Promise<void> {\n        const user = await this._loadUser();\n        await this._revokeInternal(user, types);\n    }\n\n    protected async _revokeInternal(user: User | null, types = this.settings.revokeTokenTypes): Promise<void> {\n        const logger = this._logger.create(\"_revokeInternal\");\n        if (!user) return;\n\n        const typesPresent = types.filter(type => typeof user[type] === \"string\");\n\n        if (!typesPresent.length) {\n            logger.debug(\"no need to revoke due to no token(s)\");\n            return;\n        }\n\n        // don't Promise.all, order matters\n        for (const type of typesPresent) {\n            await this._client.revokeToken(\n                user[type]!, // eslint-disable-line @typescript-eslint/no-non-null-assertion\n                type,\n            );\n            logger.info(`${type} revoked successfully`);\n            if (type !== \"access_token\") {\n                user[type] = null as never;\n            }\n        }\n\n        await this.storeUser(user);\n        logger.debug(\"user stored\");\n        this._events.load(user);\n    }\n\n    /**\n     * Enables silent renew for the `UserManager`.\n     */\n    public startSilentRenew(): void {\n        this._logger.create(\"startSilentRenew\");\n        void this._silentRenewService.start();\n    }\n\n    /**\n     * Disables silent renew for the `UserManager`.\n     */\n    public stopSilentRenew(): void {\n        this._silentRenewService.stop();\n    }\n\n    protected get _userStoreKey(): string {\n        return `user:${this.settings.authority}:${this.settings.client_id}`;\n    }\n\n    protected async _loadUser(): Promise<User | null> {\n        const logger = this._logger.create(\"_loadUser\");\n        const storageString = await this.settings.userStore.get(this._userStoreKey);\n        if (storageString) {\n            logger.debug(\"user storageString loaded\");\n            return User.fromStorageString(storageString);\n        }\n\n        logger.debug(\"no user storageString\");\n        return null;\n    }\n\n    public async storeUser(user: User | null): Promise<void> {\n        const logger = this._logger.create(\"storeUser\");\n        if (user) {\n            logger.debug(\"storing user\");\n            const storageString = user.toStorageString();\n            await this.settings.userStore.set(this._userStoreKey, storageString);\n        }\n        else {\n            this._logger.debug(\"removing user\");\n            await this.settings.userStore.remove(this._userStoreKey);\n        }\n    }\n\n    /**\n     * Removes stale state entries in storage for incomplete authorize requests.\n     */\n    public async clearStaleState(): Promise<void> {\n        await this._client.clearStaleState();\n    }\n}\n","// @ts-expect-error avoid enabling resolveJsonModule to keep build process simple\nimport { version } from \"../package.json\";\n\n/**\n * @public\n */\nexport const Version: string = version;\n","{\n  \"name\": \"oidc-client-ts\",\n  \"version\": \"2.3.0\",\n  \"description\": \"OpenID Connect (OIDC) & OAuth2 client library\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com:authts/oidc-client-ts.git\"\n  },\n  \"homepage\": \"https://github.com/authts/oidc-client-ts#readme\",\n  \"license\": \"Apache-2.0\",\n  \"main\": \"dist/umd/oidc-client-ts.js\",\n  \"types\": \"dist/types/oidc-client-ts.d.ts\",\n  \"exports\": {\n    \".\": {\n      \"types\": \"./dist/types/oidc-client-ts.d.ts\",\n      \"import\": \"./dist/esm/oidc-client-ts.js\",\n      \"require\": \"./dist/umd/oidc-client-ts.js\"\n    },\n    \"./package.json\": \"./package.json\"\n  },\n  \"files\": [\n    \"dist\"\n  ],\n  \"keywords\": [\n    \"authentication\",\n    \"oauth2\",\n    \"oidc\",\n    \"openid\",\n    \"OpenID Connect\"\n  ],\n  \"scripts\": {\n    \"build\": \"node scripts/build.js && npm run build-types\",\n    \"build-types\": \"tsc -p tsconfig.build.json && api-extractor run\",\n    \"clean\": \"git clean -fdX dist lib *.tsbuildinfo\",\n    \"prepack\": \"npm run build\",\n    \"test\": \"tsc && jest\",\n    \"typedoc\": \"typedoc\",\n    \"lint\": \"eslint --max-warnings=0 --cache .\",\n    \"prepare\": \"husky install\"\n  },\n  \"dependencies\": {\n    \"crypto-js\": \"^4.1.1\",\n    \"jwt-decode\": \"^3.1.2\"\n  },\n  \"devDependencies\": {\n    \"@microsoft/api-extractor\": \"^7.35.0\",\n    \"@testing-library/jest-dom\": \"^6.0.0\",\n    \"@types/crypto-js\": \"^4.0.2\",\n    \"@types/jest\": \"^29.2.3\",\n    \"@typescript-eslint/eslint-plugin\": \"^6.4.1\",\n    \"@typescript-eslint/parser\": \"^6.4.1\",\n    \"esbuild\": \"^0.17.0\",\n    \"eslint\": \"^8.5.0\",\n    \"eslint-plugin-testing-library\": \"^6.0.0\",\n    \"http-proxy-middleware\": \"^2.0.1\",\n    \"husky\": \"^8.0.1\",\n    \"jest\": \"^29.3.1\",\n    \"jest-environment-jsdom\": \"^29.3.1\",\n    \"jest-mock\": \"^29.3.1\",\n    \"lint-staged\": \"^14.0.0\",\n    \"ts-jest\": \"^29.0.3\",\n    \"typedoc\": \"^0.25.0\",\n    \"typescript\": \"~5.0.4\",\n    \"yn\": \"^5.0.0\"\n  },\n  \"engines\": {\n    \"node\": \">=12.13.0\"\n  },\n  \"lint-staged\": {\n    \"*.{js,jsx,ts,tsx}\": \"eslint --cache --fix\"\n  }\n}\n","export { createOidc } from \"./oidc\";\nexport type { Oidc } from \"./oidc\";\nexport { decodeJwt } from \"./tools/decodeJwt\";\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { overwriteReadonlyProp } from \"./lab/overwriteReadonlyProp\";\nimport { assertIsRefWrapper } from \"./zz_internal/assertIsRefWrapper\";\nexport type { Equals } from \"./Equals\";\n\n/** @see <https://docs.tsafe.dev/assert#error-thrown> */\nexport class AssertionError extends Error {\n    constructor(msg: string | undefined) {\n        super(`Wrong assertion encountered` + (!msg ? \"\" : `: \"${msg}\"`));\n\n        Object.setPrototypeOf(this, new.target.prototype);\n\n        if (!this.stack) {\n            return;\n        }\n\n        try {\n            overwriteReadonlyProp(\n                this,\n                \"stack\",\n                this.stack\n                    .split(\"\\n\")\n                    .filter((...[, i]) => i !== 1 && i !== 2)\n                    .join(\"\\n\"),\n            );\n            // eslint-disable-next-line no-empty\n        } catch {}\n    }\n}\n\n/** https://docs.tsafe.dev/assert */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function assert<_T extends true>(condition?: any, msg?: string): asserts condition {\n    if (arguments.length === 0) {\n        condition = true;\n    }\n    if (assertIsRefWrapper.ref !== undefined) {\n        assertIsRefWrapper.ref = undefined;\n        return;\n    }\n\n    if (!condition) {\n        throw new AssertionError(msg);\n    }\n}\n","/** https://docs.tsafe.dev/id  */\nexport const id = <T>(x: T) => x;\n\n/**\n * Ensure that a that a specific type that we are declaring extends a more generic type\n *\n * Use case example 1:\n *\n * type MyObject = {\n *     p1: string;\n *     p2: string;\n *     a: string;\n *     b: string;\n * };\n *\n * We want to define a type that consist in an union of\n * all the property name that are letters:\n *\n * type AlphabeticalKeys = Id<keyof MyObject, \"a\" | \"b\">;\n *\n * Here AlphabeticalKeys is \"a\" | \"b\" but it's better than\n * simply writing it explicitly as we get autocompletion\n * and we can't include a property name that does not exist on MyObject.\n *\n * Use case example 2:\n *\n * We want to declare object type that only take string or number\n * as key value:\n *\n * export type MyObject = Id<Record<string, string | number>, {\n *     p1: string;\n *     p2: number;\n * }>;\n *\n * If later on someone adds \"p3\": string[] he will get a type error.\n * */\nexport type Id<Generic, Specific extends Generic> = Specific;\n","/* eslint-disable @typescript-eslint/no-namespace */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { assertIsRefWrapper } from \"./zz_internal/assertIsRefWrapper\";\n\nconst errorMessage = [\n    `Wrong usage of the ${is.name} function refer to`,\n    `https://docs.tsafe.dev/${is.name.toLowerCase()}`,\n].join(\" \");\n\nexport function is<T>(_value: any): _value is T {\n    const ref = {};\n\n    if (assertIsRefWrapper.ref !== undefined) {\n        assertIsRefWrapper.ref = undefined;\n        throw new Error(errorMessage);\n    }\n\n    assertIsRefWrapper.ref = ref;\n\n    Promise.resolve().then(() => {\n        if (assertIsRefWrapper.ref === ref) {\n            throw new Error(errorMessage);\n        }\n    });\n\n    return null as any;\n}\n","/* eslint-disable no-empty */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { assert } from \"../assert\";\nimport { is } from \"../is\";\n\n/**\n * Assign a value to a property even if the object is freezed or if the property is not writable\n * Throw if the assignation fail ( for example if the property is non configurable write: false )\n * */\nexport const overwriteReadonlyProp = <T extends { [key: string]: any }, K extends keyof T>(\n    obj: T,\n    propertyName: K,\n    value: T[K],\n): T[K] => {\n    try {\n        obj[propertyName] = value;\n    } catch {}\n\n    if (obj[propertyName] === value) {\n        return value;\n    }\n\n    let errorDefineProperty: Error | undefined = undefined;\n\n    const propertyDescriptor: PropertyDescriptor = Object.getOwnPropertyDescriptor(\n        obj,\n        propertyName,\n    ) || {\n        \"enumerable\": true,\n        \"configurable\": true,\n    };\n\n    if (!!propertyDescriptor.get) {\n        throw new Error(`Probably a wrong ides to overwrite ${String(propertyName)} getter`);\n    }\n\n    try {\n        Object.defineProperty(obj, propertyName, {\n            ...propertyDescriptor,\n            value,\n        });\n    } catch (error) {\n        assert(is<Error>(error));\n        errorDefineProperty = error;\n    }\n\n    if (obj[propertyName] !== value) {\n        throw errorDefineProperty || new Error(\"Can't assign\");\n    }\n\n    return value;\n};\n","import { id } from \"../id\";\n\nexport const assertIsRefWrapper = {\n    \"ref\": id<undefined | Record<string, never>>(undefined),\n};\n","import { UserManager, type User } from \"oidc-client-ts\";\nimport { id } from \"tsafe/id\";\nimport { readExpirationTimeInJwt } from \"./tools/readExpirationTimeInJwt\";\nimport { assert, type Equals } from \"tsafe/assert\";\nimport { addQueryParamToUrl, retrieveQueryParamFromUrl } from \"./tools/urlQueryParams\";\nimport { fnv1aHashToHex } from \"./tools/fnv1aHashToHex\";\nimport { Deferred } from \"./tools/Deferred\";\n\nexport declare type Oidc = Oidc.LoggedIn | Oidc.NotLoggedIn;\n\nexport declare namespace Oidc {\n    export type Common = {\n        params: {\n            issuerUri: string;\n            clientId: string;\n        };\n    };\n\n    export type NotLoggedIn = Common & {\n        isUserLoggedIn: false;\n        login: (params: {\n            doesCurrentHrefRequiresAuth: boolean;\n            extraQueryParams?: Record<string, string>;\n        }) => Promise<never>;\n    };\n\n    export type LoggedIn = Common & {\n        isUserLoggedIn: true;\n        renewTokens(): Promise<void>;\n        getTokens: () => Tokens;\n        logout: (\n            params: { redirectTo: \"home\" | \"current page\" } | { redirectTo: \"specific url\"; url: string }\n        ) => Promise<never>;\n    };\n\n    export type Tokens = {\n        accessToken: string;\n        accessTokenExpirationTime: number;\n        idToken: string;\n        refreshToken: string;\n        refreshTokenExpirationTime: number;\n    };\n}\n\nconst paramsToRetrieveFromSuccessfulLogin = [\"code\", \"state\", \"session_state\"] as const;\n\n/** @see: https://github.com/garronej/oidc-spa#option-1-usage-without-involving-the-ui-framework */\nexport async function createOidc(params: {\n    issuerUri: string;\n    clientId: string;\n    transformUrlBeforeRedirect?: (url: string) => string;\n    getExtraQueryParams?: () => Record<string, string>;\n    /**\n     * This parameter have to be provided provide if your App is not hosted at the origin of the subdomain.\n     * For example if your site is hosted by navigating to `https://www.example.com`\n     * you don't have to provide this parameter.\n     * On the other end if your site is hosted by navigating to `https://www.example.com/my-app`\n     * Then you want to set publicUrl to `/my-app`\n     *\n     * Be mindful that `${window.location.origin}${publicUrl}/silent-sso.html` must return the `silent-sso.html` that\n     * you are supposed to have created in your `public/` directory.\n     *\n     * If your are still using `create-react-app` you can just set\n     * publicUrl to `process.env.PUBLIC_URL` and don't have to think about it further.\n     */\n    publicUrl?: string;\n}): Promise<Oidc> {\n    const {\n        issuerUri,\n        clientId,\n        transformUrlBeforeRedirect = url => url,\n        getExtraQueryParams,\n        publicUrl: publicUrl_params\n    } = params;\n\n    const publicUrl = (() => {\n        if (publicUrl_params === undefined) {\n            return window.location.origin;\n        }\n\n        if (publicUrl_params.startsWith(\"http\")) {\n            return publicUrl_params.replace(/\\/$/, \"\");\n        }\n\n        return `${window.location.origin}${publicUrl_params}`;\n    })();\n\n    const configHash = fnv1aHashToHex(`${issuerUri} ${clientId}`);\n    const configHashKey = \"configHash\";\n\n    const userManager = new UserManager({\n        \"authority\": issuerUri,\n        \"client_id\": clientId,\n        \"redirect_uri\": \"\" /* provided when calling login */,\n        \"response_type\": \"code\",\n        \"scope\": \"openid profile\",\n        \"automaticSilentRenew\": false,\n        \"silent_redirect_uri\": `${publicUrl}/silent-sso.html?${configHashKey}=${configHash}`\n    });\n\n    const login: Oidc.NotLoggedIn[\"login\"] = async ({\n        doesCurrentHrefRequiresAuth,\n        extraQueryParams\n    }) => {\n        //NOTE: We know there is a extraQueryParameter option but it doesn't allow\n        // to control the encoding so we have to highjack global URL Class that is\n        // used internally by oidc-client-ts. It's save to do so since this is the\n        // last thing that will be done before the redirect.\n\n        const URL_real = window.URL;\n\n        function URL(...args: ConstructorParameters<typeof URL_real>) {\n            const urlInstance = new URL_real(...args);\n\n            return new Proxy(urlInstance, {\n                \"get\": (target, prop) => {\n                    if (prop === \"href\") {\n                        let url = urlInstance.href;\n\n                        Object.entries({\n                            ...getExtraQueryParams?.(),\n                            ...extraQueryParams\n                        }).forEach(\n                            ([name, value]) =>\n                                (url = addQueryParamToUrl({\n                                    url,\n                                    name,\n                                    value\n                                }).newUrl)\n                        );\n\n                        url = transformUrlBeforeRedirect(url);\n\n                        return url;\n                    }\n\n                    //@ts-expect-error\n                    return target[prop];\n                }\n            });\n        }\n\n        Object.defineProperty(window, \"URL\", { \"value\": URL });\n\n        const { newUrl: redirect_uri } = addQueryParamToUrl({\n            \"url\": window.location.href,\n            \"name\": configHashKey,\n            \"value\": configHash\n        });\n\n        await userManager.signinRedirect({\n            redirect_uri,\n            \"redirectMethod\": doesCurrentHrefRequiresAuth ? \"replace\" : \"assign\"\n        });\n        return new Promise<never>(() => {});\n    };\n\n    const currentTokens = await (async function getUser() {\n        read_successful_login_query_params: {\n            let url = window.location.href;\n\n            {\n                const result = retrieveQueryParamFromUrl({ \"name\": configHashKey, url });\n\n                if (!result.wasPresent || result.value !== configHash) {\n                    break read_successful_login_query_params;\n                }\n\n                url = result.newUrl;\n            }\n\n            {\n                const result = retrieveQueryParamFromUrl({ \"name\": \"error\", url });\n\n                if (result.wasPresent) {\n                    throw new Error(`OIDC error: ${result.value}`);\n                }\n            }\n\n            let loginSuccessUrl = \"https://dummy.com\";\n\n            for (const name of paramsToRetrieveFromSuccessfulLogin) {\n                const result = retrieveQueryParamFromUrl({ name, url });\n\n                assert(result.wasPresent);\n\n                loginSuccessUrl = addQueryParamToUrl({\n                    \"url\": loginSuccessUrl,\n                    \"name\": name,\n                    \"value\": result.value\n                }).newUrl;\n\n                url = result.newUrl;\n            }\n\n            window.history.pushState(null, \"\", url);\n\n            let user: User | undefined = undefined;\n\n            try {\n                user = await userManager.signinRedirectCallback(loginSuccessUrl);\n            } catch {\n                //NOTE: The user has likely pressed the back button just after logging in.\n                return undefined;\n            }\n\n            return user;\n        }\n\n        restore_from_session: {\n            const user = await userManager.getUser();\n\n            if (user === null) {\n                break restore_from_session;\n            }\n\n            // The server might have restarted and the session might have been lost.\n            try {\n                await userManager.signinSilent();\n            } catch {\n                return undefined;\n            }\n\n            return user;\n        }\n\n        restore_from_http_only_cookie: {\n            const dLoginSuccessUrl = new Deferred<string | undefined>();\n\n            const timeout = setTimeout(\n                () =>\n                    dLoginSuccessUrl.reject(\n                        new Error(`SSO silent login timeout with clientId: ${clientId}`)\n                    ),\n                5000\n            );\n\n            const listener = (event: MessageEvent) => {\n                if (event.origin !== window.location.origin || typeof event.data !== \"string\") {\n                    return;\n                }\n\n                const url = event.data;\n\n                {\n                    let result: ReturnType<typeof retrieveQueryParamFromUrl>;\n\n                    try {\n                        result = retrieveQueryParamFromUrl({ \"name\": configHashKey, url });\n                    } catch {\n                        // This could possibly happen if url is not a valid url.\n                        return;\n                    }\n\n                    if (!result.wasPresent || result.value !== configHash) {\n                        return;\n                    }\n                }\n\n                clearTimeout(timeout);\n\n                window.removeEventListener(\"message\", listener);\n\n                {\n                    const result = retrieveQueryParamFromUrl({ \"name\": \"error\", url });\n\n                    if (result.wasPresent) {\n                        dLoginSuccessUrl.resolve(undefined);\n                        return;\n                    }\n                }\n\n                let loginSuccessUrl = \"https://dummy.com\";\n\n                for (const name of paramsToRetrieveFromSuccessfulLogin) {\n                    const result = retrieveQueryParamFromUrl({ name, url });\n\n                    assert(result.wasPresent);\n\n                    loginSuccessUrl = addQueryParamToUrl({\n                        \"url\": loginSuccessUrl,\n                        \"name\": name,\n                        \"value\": result.value\n                    }).newUrl;\n                }\n\n                dLoginSuccessUrl.resolve(loginSuccessUrl);\n            };\n\n            window.addEventListener(\"message\", listener, false);\n\n            userManager.signinSilent({ \"silentRequestTimeoutInSeconds\": 1 }).catch(() => {\n                /* error expected */\n            });\n\n            const loginSuccessUrl = await dLoginSuccessUrl.pr;\n\n            if (loginSuccessUrl === undefined) {\n                break restore_from_http_only_cookie;\n            }\n\n            const user = await userManager.signinRedirectCallback(loginSuccessUrl);\n\n            return user;\n        }\n\n        return undefined;\n    })().then(user => {\n        if (user === undefined) {\n            return undefined;\n        }\n\n        const tokens = userToTokens(user);\n\n        if (tokens.refreshTokenExpirationTime < tokens.accessTokenExpirationTime) {\n            console.warn(\n                [\n                    \"The OIDC refresh token shorter than the one of the access token.\",\n                    \"This is very unusual and probably a misconfiguration.\",\n                    `Check your oidc server configuration for ${clientId} ${issuerUri}`\n                ].join(\" \")\n            );\n        }\n\n        return tokens;\n    });\n\n    const common: Oidc.Common = {\n        \"params\": {\n            issuerUri,\n            clientId\n        }\n    };\n\n    if (currentTokens === undefined) {\n        return id<Oidc.NotLoggedIn>({\n            ...common,\n            \"isUserLoggedIn\": false,\n            login\n        });\n    }\n\n    const oidc = id<Oidc.LoggedIn>({\n        ...common,\n        \"isUserLoggedIn\": true,\n        \"getTokens\": () => ({\n            \"accessToken\": currentTokens.accessToken,\n            \"idToken\": currentTokens.idToken,\n            \"refreshToken\": currentTokens.refreshToken,\n            \"refreshTokenExpirationTime\": currentTokens.refreshTokenExpirationTime,\n            \"accessTokenExpirationTime\": currentTokens.accessTokenExpirationTime\n        }),\n        \"logout\": async params => {\n            await userManager.signoutRedirect({\n                \"post_logout_redirect_uri\": (() => {\n                    switch (params.redirectTo) {\n                        case \"current page\":\n                            return window.location.href;\n                        case \"home\":\n                            return publicUrl;\n                        case \"specific url\":\n                            return params.url;\n                    }\n                    assert<Equals<typeof params, never>>(false);\n                })()\n            });\n            return new Promise<never>(() => {});\n        },\n        \"renewTokens\": async () => {\n            const user = await userManager.signinSilent();\n\n            assert(user !== null);\n\n            Object.assign(currentTokens, userToTokens(user));\n        }\n    });\n\n    (function scheduleAutomaticRenew() {\n        const msBeforeExpiration =\n            Math.min(currentTokens.accessTokenExpirationTime, currentTokens.refreshTokenExpirationTime) -\n            Date.now();\n\n        setTimeout(async () => {\n            try {\n                await oidc.renewTokens();\n            } catch {\n                await login({ \"doesCurrentHrefRequiresAuth\": true });\n            }\n\n            scheduleAutomaticRenew();\n        }, msBeforeExpiration - /* min validity in seconds */ 25 * 1000);\n    })();\n\n    return oidc;\n}\n\nfunction userToTokens(user: User): Oidc.Tokens {\n    const accessToken = user.access_token;\n\n    const accessTokenExpirationTime = (() => {\n        read_from_metadata: {\n            const { expires_at } = user;\n\n            if (expires_at === undefined) {\n                break read_from_metadata;\n            }\n\n            return expires_at * 1000;\n        }\n\n        read_from_jwt: {\n            const expirationTime = readExpirationTimeInJwt(accessToken);\n\n            if (expirationTime === undefined) {\n                break read_from_jwt;\n            }\n\n            return expirationTime;\n        }\n\n        assert(false, \"Failed to get access token expiration time\");\n    })();\n\n    const refreshToken = user.refresh_token;\n\n    assert(refreshToken !== undefined, \"No refresh token provided by the oidc server\");\n\n    const refreshTokenExpirationTime = (() => {\n        read_from_jwt: {\n            const expirationTime = readExpirationTimeInJwt(refreshToken);\n\n            if (expirationTime === undefined) {\n                break read_from_jwt;\n            }\n\n            return expirationTime;\n        }\n\n        assert(false, \"Failed to get refresh token expiration time\");\n    })();\n\n    const idToken = user.id_token;\n\n    assert(idToken !== undefined, \"No id token provided by the oidc server\");\n\n    return {\n        accessToken,\n        accessTokenExpirationTime,\n        refreshToken,\n        refreshTokenExpirationTime,\n        idToken\n    };\n}\n","import { useEffect, useState, createContext, useContext, type ReactNode } from \"react\";\nimport { createOidc, type Oidc } from \"./oidc\";\nimport { assert } from \"tsafe/assert\";\n\nconst oidcClientContext = createContext<Oidc | undefined>(undefined);\n\n/** @see: https://github.com/garronej/oidc-spa#option-2-usage-directly-within-react */\nexport function createOidcProvider(params: Parameters<typeof createOidc>[0]) {\n    const prOidc = createOidc(params);\n\n    function OidcProvider(props: { fallback?: ReactNode; children: ReactNode }) {\n        const { children, fallback } = props;\n\n        const [oidcClient, setOidcClient] = useState<Oidc | undefined>(undefined);\n\n        useEffect(() => {\n            prOidc.then(setOidcClient);\n        }, []);\n\n        if (oidcClient === undefined) {\n            return <>{fallback === undefined ? null : fallback}</>;\n        }\n\n        return <oidcClientContext.Provider value={oidcClient}>{children}</oidcClientContext.Provider>;\n    }\n\n    return { OidcProvider };\n}\n\n/** @see: https://github.com/garronej/oidc-spa#option-2-usage-directly-within-react */\nexport function useOidc() {\n    const oidc = useContext(oidcClientContext);\n    assert(oidc !== undefined, \"You must use useOidc inside a OidcClientProvider\");\n    return { oidc };\n}\n","import { overwriteReadonlyProp } from \"tsafe/lab/overwriteReadonlyProp\";\n\nexport class Deferred<T> {\n    public readonly pr: Promise<T>;\n\n    /** NOTE: Does not need to be called bound to instance*/\n    public readonly resolve: (value: T) => void;\n    public readonly reject: (error: any) => void;\n\n    constructor() {\n        let resolve!: (value: T) => void;\n        let reject!: (error: any) => void;\n\n        this.pr = new Promise<T>((resolve_, reject_) => {\n            resolve = value => {\n                overwriteReadonlyProp(this, \"isPending\", false);\n                resolve_(value);\n            };\n\n            reject = error => {\n                overwriteReadonlyProp(this, \"isPending\", false);\n                reject_(error);\n            };\n        });\n\n        this.resolve = resolve;\n        this.reject = reject;\n    }\n\n    public readonly isPending: boolean = true;\n}\n\nexport namespace Deferred {\n    export type Unpack<T extends Deferred<any>> = T extends Deferred<infer U> ? U : never;\n}\n\nexport class VoidDeferred extends Deferred<undefined> {\n    public declare readonly resolve: () => void;\n}\n","import decodeJwt from \"jwt-decode\";\nexport { decodeJwt };\n","export function fnv1aHashToHex(str: string) {\n    let hash = 2166136261;\n    for (let i = 0; i < str.length; i++) {\n        hash ^= str.charCodeAt(i);\n        hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n    }\n    return (hash >>> 0).toString(16); // Convert to unsigned 32-bit integer and then to hexadecimal\n}\n","import decodeJwt from \"jwt-decode\";\nimport { assert } from \"tsafe/assert\";\n\n// Return undefined if token provided wasn't a JWT or if it hasn't an exp claim number\nexport function readExpirationTimeInJwt(token: string): number | undefined {\n    let expirationTime: number;\n\n    try {\n        expirationTime = decodeJwt<{ exp: number }>(token).exp * 1000;\n\n        assert(typeof expirationTime === \"number\" && !isNaN(expirationTime));\n    } catch {\n        return undefined;\n    }\n\n    return expirationTime;\n}\n","export function addQueryParamToUrl(params: { url: string; name: string; value: string }): {\n    newUrl: string;\n} {\n    const { url, name, value } = params;\n\n    let newUrl = url;\n\n    const result = retrieveQueryParamFromUrl({\n        url,\n        name\n    });\n\n    if (result.wasPresent) {\n        newUrl = result.newUrl;\n    }\n\n    newUrl += `${\n        newUrl.includes(\"?\") ? \"&\" : newUrl.endsWith(\"?\") ? \"\" : \"?\"\n    }${name}=${encodeURIComponent(value)}`;\n\n    return { newUrl };\n}\n\nexport function retrieveAllQueryParamStartingWithPrefixFromUrl<\n    Prefix extends string,\n    DoLeave extends boolean\n>(params: {\n    url: string;\n    prefix: Prefix;\n    doLeavePrefixInResults: DoLeave;\n}): { newUrl: string; values: Record<DoLeave extends true ? `${Prefix}${string}` : string, string> } {\n    const { url, prefix, doLeavePrefixInResults } = params;\n\n    const [baseUrl, locationSearch = \"\"] = url.split(\"?\");\n\n    const values: Record<string, string> = {};\n\n    const { newLocationSearch } = (() => {\n        let newLocationSearch = locationSearch\n            .replace(/^\\?/, \"\")\n            .split(\"&\")\n            .map(part => part.split(\"=\") as [string, string])\n            .filter(([key, value_i]) =>\n                !key.startsWith(prefix)\n                    ? true\n                    : ((values[doLeavePrefixInResults ? key : key.substring(prefix.length)] =\n                          decodeURIComponent(value_i)),\n                      false)\n            )\n            .map(entry => entry.join(\"=\"))\n            .join(\"&\");\n        newLocationSearch = newLocationSearch === \"\" ? \"\" : `?${newLocationSearch}`;\n\n        return { newLocationSearch };\n    })();\n\n    return {\n        \"newUrl\": `${baseUrl}${newLocationSearch}`,\n        values\n    };\n}\n\nexport function retrieveQueryParamFromUrl(params: {\n    url: string;\n    name: string;\n}): { wasPresent: false } | { wasPresent: true; newUrl: string; value: string } {\n    const { url, name } = params;\n\n    const { newUrl, values } = retrieveAllQueryParamStartingWithPrefixFromUrl({\n        url,\n        \"prefix\": name,\n        \"doLeavePrefixInResults\": true\n    });\n\n    return name in values\n        ? {\n              \"wasPresent\": true,\n              newUrl,\n              \"value\": values[name]\n          }\n        : {\n              \"wasPresent\": false\n          };\n}\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n  return _construct.apply(null, arguments);\n}\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn.js\");\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}\nmodule.exports = _createSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n  return _get.apply(this, arguments);\n}\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure \" + obj);\n}\nmodule.exports = _objectDestructuringEmpty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeFunction = require(\"./isNativeFunction.js\");\nvar construct = require(\"./construct.js\");\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _wrapNativeSuper(Class);\n}\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["module","exports","CryptoJS","Math","undefined","crypto","window","self","globalThis","msCrypto","global","require","err","cryptoSecureRandomInt","getRandomValues","Uint32Array","randomBytes","readInt32LE","Error","create","Object","F","obj","subtype","prototype","C","C_lib","lib","Base","extend","overrides","this","mixIn","hasOwnProperty","init","$super","apply","arguments","instance","properties","propertyName","toString","clone","WordArray","words","sigBytes","length","encoder","Hex","stringify","concat","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","i","thatByte","j","ceil","call","slice","random","nBytes","push","C_enc","enc","hexChars","bite","join","parse","hexStr","hexStrLength","parseInt","substr","Latin1","latin1Chars","String","fromCharCode","latin1Str","latin1StrLength","charCodeAt","Utf8","decodeURIComponent","escape","e","utf8Str","unescape","encodeURIComponent","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","data","_process","doFlush","processedWords","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","max","_minBufferSize","nBytesReady","min","offset","_doProcessBlock","splice","C_algo","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","message","_createHmacHelper","key","HMAC","algo","factory","root","parseLoop","base64Str","base64StrLength","reverseMap","bitsCombined","Base64","map","_map","base64Chars","triplet","charAt","paddingChar","_reverseMap","paddingIndex","indexOf","H","K","isPrime","n","sqrtN","sqrt","factor","getFractionalBits","nPrime","pow","W","SHA256","_hash","M","a","b","c","d","f","g","h","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","floor","HmacSHA256","name","r","atob","bind","t","replace","o","toUpperCase","header","JSON","split","src_exports","__export","AccessTokenEvents","CheckSessionIFrame","ErrorResponse","ErrorTimeout","InMemoryWebStorage","Log","Logger","MetadataService","OidcClient","OidcClientSettingsStore","SessionMonitor","SigninResponse","SigninState","SignoutResponse","State","User","UserManager","UserManagerSettingsStore","Version","WebStorageStateStore","level","logger","Log2","import_core","__toESM","import_sha256","import_enc_base64","import_enc_utf8","nopLogger","debug","info","warn","error","setLevel","value","setLogger","_Logger","_name","_classCallCheck","_createClass","_logger","_len","args","Array","_key","_format","_method","_logger2","_len2","_key2","_logger3","_len3","_key3","_logger4","_len4","_key4","method","methodLogger","staticMethod","staticLogger","prefix","_logger5","_len5","_key5","_logger6","_len6","_key6","_logger7","_len7","_key7","_logger8","_len8","_key8","CryptoUtils","default","_randomWord","generateUUIDv4","code_verifier","hashed","client_id","client_secret","basicAuth","Event","_callbacks","cb","_this","removeHandler","idx","lastIndexOf","_this$_logger","_len9","ev","_key9","_step2","_iterator2","_createForOfIteratorHelper","s","done","import_jwt_decode","JwtUtils","token","PopupUtils","_ref","_a","features","assign","_objectDestructuringEmpty","width","find","outerWidth","left","round","screenX","height","top","screenY","outerHeight","entries","filter","_ref2","_slicedToArray","_ref4","_ref5","Timer","_Event","_inherits","_super","_createSuper","_thisSuper","_this2","_timerHandle","_expiration","_callback","diff","getEpochTime","cancel","_get","_assertThisInitialized","_getPrototypeOf","durationInSeconds","logger2","expiration","timerDurationInSeconds","setInterval","get","clearInterval","Date","now","UrlUtils","url","responseMode","TypeError","params","URL","URLSearchParams","_Error","_ErrorResponse","_super2","form","_this3","_b","_c","error_description","error_uri","state","userState","session_state","_wrapNativeSuper","_Error2","_ErrorTimeout","_super3","_this4","_AccessTokenEvents","_expiringTimer","_expiredTimer","_expiringNotificationTimeInSeconds","expiringNotificationTimeInSeconds","container","access_token","expires_in","duration","expiring","expired","addHandler","_CheckSessionIFrame","_client_id","_intervalInSeconds","_stopOnError","_this5","_timer","_session_state","_message","origin","_frame_origin","source","_frame","contentWindow","stop","parsedUrl","document","createElement","style","visibility","position","src","href","_this6","Promise","resolve","onload","body","appendChild","addEventListener","_this7","send","postMessage","_InMemoryWebStorage","getOwnPropertyNames","index","JsonService","_this$_contentTypes","additionalContentTypes","_jwtHandler","_extraHeaders","_contentTypes","_toConsumableArray","_fetchWithTimeout","_asyncToGenerator","_regeneratorRuntime","mark","_callee","input","timeoutInSeconds","initFetch","controller","timeoutId","response","_args","wrap","_context","prev","next","_objectWithoutProperties","_excluded","fetch","abrupt","sent","AbortController","setTimeout","abort","_objectSpread","signal","t0","DOMException","clearTimeout","finish","_x","_getJson","_callee2","_ref6","credentials","headers","contentType","json","_args2","_context2","appendExtraHeaders","fetchWithTimeout","status","item","startsWith","throw","ok","text","t2","t3","statusText","_x2","_postForm","_callee3","_ref7","initCredentials","responseText","_context3","_x3","_x4","_this8","customKeys","keys","protectedHeaders","forEach","headerName","includes","toLocaleLowerCase","content","_MetadataService","_settings","_signingKeys","_metadata","_metadataUrl","metadataUrl","_jsonService","extraHeaders","signingKeys","metadata","fetchRequestCredentials","_fetchRequestCredentials","_getMetadata","_callee4","_context4","getJson","metadataSeed","_getMetadataProperty","optional","_getMetadataProperty2","_callee5","_args5","_context5","getMetadata","_x5","_getSigningKeys","_callee6","jwks_uri","keySet","_context6","getKeysEndpoint","isArray","_WebStorageStateStore","_ref8","_ref8$prefix","_ref8$store","store","localStorage","_store","_prefix","_set","_callee7","_context7","setItem","_x6","_x7","_get2","_callee8","_context8","getItem","_x8","_remove","_callee9","_context9","removeItem","_x9","_getAllKeys","_callee10","len","_context10","_OidcClientSettingsStore","_ref9","authority","_ref9$response_type","response_type","_ref9$scope","scope","redirect_uri","post_logout_redirect_uri","_ref9$client_authenti","client_authentication","prompt","display","max_age","ui_locales","acr_values","resource","_ref9$response_mode","response_mode","_ref9$filterProtocolC","filterProtocolClaims","_ref9$loadUserInfo","loadUserInfo","_ref9$staleStateAgeIn","staleStateAgeInSeconds","_ref9$clockSkewInSeco","clockSkewInSeconds","_ref9$userInfoJwtIssu","userInfoJwtIssuer","_ref9$mergeClaims","mergeClaims","_ref9$disablePKCE","disablePKCE","stateStore","refreshTokenCredentials","revokeTokenAdditionalContentTypes","refreshTokenAllowedScope","_ref9$extraQueryParam","extraQueryParams","_ref9$extraTokenParam","extraTokenParams","_ref9$extraHeaders","endsWith","console","UserInfoService","_metadataService","_this9","_getClaimsFromJwt","_ref10","_callee11","payload","_context11","decode","_x10","_getClaims","_callee12","claims","_context12","getUserInfoEndpoint","_x11","TokenClient","_exchangeCode","_callee13","_ref11","_ref11$grant_type","grant_type","_ref11$redirect_uri","_ref11$client_id","_ref11$client_secret","_i","_Object$entries","_Object$entries$_i","_context13","_excluded2","code","set","generateBasicAuth","append","getTokenEndpoint","postForm","_x12","_exchangeCredentials","_callee14","_ref12","_ref12$grant_type","_ref12$client_id","_ref12$client_secret","_ref12$scope","_i2","_Object$entries2","_Object$entries2$_i","_context14","_excluded3","_x13","_exchangeRefreshToken","_callee15","_ref13","_ref13$grant_type","_ref13$client_id","_ref13$client_secret","_loop2","_i3","_Object$entries3","_context16","_excluded4","refresh_token","_Object$entries3$_i","_context15","param","delegateYield","_x14","_revoke","_callee16","_i4","_Object$entries4","_Object$entries4$_i","_context17","getRevocationEndpoint","token_type_hint","_x15","ResponseValidator","_claimsService","_userInfoService","_tokenClient","_validateSigninResponse","_callee17","_context18","_processSigninState","_processCode","isOpenId","_validateIdTokenAttributes","_processClaims","skipUserInfo","_x16","_x17","_validateCredentialsResponse","_callee18","_context19","_x18","_x19","_validateRefreshResponse","_callee19","hasIdToken","_context20","id_token","profile","_x20","_x21","id","_processClaims2","_callee20","validateSub","_args21","_context21","getClaims","sub","_x22","_processCode2","_callee21","tokenResponse","_context22","exchangeCode","_x23","_x24","existingToken","incoming","existing","auth_time","azp","_State","created","request_type","storageString","createStatic","_clearStaleState","_callee22","storage","age","cutoff","remove","_context23","getAllKeys","fromStorageString","_x25","_x26","_State2","_SigninState","_super4","_this10","generateCodeVerifier","code_challenge","generateCodeChallenge","SigninRequest","_ref14","state_data","nonce","optionalParams","_excluded5","searchParams","_i5","_Object$entries5","_Object$entries5$_i","_SigninResponse","token_type","expires_at","Number","SignoutRequest","_ref15","id_token_hint","_i6","_Object$entries6","_Object$entries6$_i","_SignoutResponse","DefaultProtocolClaims","InternalRequiredProtocolClaims","ClaimsService","result","protocolClaims","_step3","_iterator3","claim","claims1","claims2","_i7","_Object$entries7","_step4","_Object$entries7$_i","values","_iterator4","previousValue","_OidcClient","settings","metadataService","_validator","_createSigninRequest","_callee23","_ref16","request","request_uri","login_hint","_ref16$response_type","_ref16$scope","_ref16$redirect_uri","_ref16$prompt","_ref16$display","_ref16$max_age","_ref16$ui_locales","_ref16$acr_values","_ref16$resource","_ref16$response_mode","_ref16$extraQueryPara","_ref16$extraTokenPara","signinRequest","signinState","_context24","getAuthorizationEndpoint","clearStaleState","toStorageString","_x27","_readSigninResponseState","_callee24","removeState","storedStateString","_args25","_context25","readParams","_x28","_processSigninResponse","_callee25","_yield$this$readSigni","_context26","readSigninResponseState","validateSigninResponse","_x29","_processResourceOwnerPasswordCredentials","_callee26","_ref17","username","password","_ref17$skipUserInfo","_ref17$extraTokenPara","signinResponse","_context27","exchangeCredentials","validateCredentialsResponse","_x30","_useRefreshToken","_callee27","_ref18","allowableScopes","providedScopes","_context28","exchangeRefreshToken","validateRefreshResponse","_x31","_createSignoutRequest","_callee28","_ref19","_ref19$post_logout_re","_ref19$extraQueryPara","signoutState","_args29","_context29","getEndSessionEndpoint","_readSignoutResponseState","_callee29","_args30","_context30","_x32","_processSignoutResponse","_callee30","_yield$this$readSigno","_context31","readSignoutResponseState","validateSignoutResponse","_x33","_revokeToken","_callee31","type","_context32","revoke","_x34","_x35","_SessionMonitor","_userManager","_this11","_start","_ref20","_callee32","user","intervalInSeconds","stopOnError","checkSessionIFrame","_context33","_sub","_sid","sid","_checkSessionIFrame","start","getCheckSessionIframe","checkSessionIntervalInSeconds","stopCheckSessionOnError","load","_x36","_stop","monitorAnonymousSession","timerHandle","_callee33","session","tmpUser","_context34","querySessionStatus","_callee34","raiseEvent","_context35","events","_raiseUserSessionChanged","_raiseUserSignedOut","_raiseUserSignedIn","addUserLoaded","addUserUnloaded","_init","catch","_init2","_callee35","_context36","getUser","_User","messageSource","AbstractChildWindow","_abort","_disposeHandlers","Set","_window","_navigate","_callee36","_yield$Promise","keepOpen","_this12","_context37","location","reject","listener","scriptOrigin","_dispose","add","removeEventListener","reason","close","_x37","_step5","_iterator5","dispose","clear","parent","targetOrigin","DefaultPopupWindowFeatures","toolbar","closePopupWindowAfterInSeconds","DefaultPopupTarget","_OidcClientSettingsSt","_UserManagerSettingsStore","_super5","_this13","_args$popup_redirect_","popup_redirect_uri","_args$popup_post_logo","popup_post_logout_redirect_uri","_args$popupWindowFeat","popupWindowFeatures","_args$popupWindowTarg","popupWindowTarget","_args$redirectMethod","redirectMethod","_args$redirectTarget","redirectTarget","_args$iframeNotifyPar","iframeNotifyParentOrigin","_args$iframeScriptOri","iframeScriptOrigin","_args$silent_redirect","silent_redirect_uri","_args$silentRequestTi","silentRequestTimeoutInSeconds","_args$automaticSilent","automaticSilentRenew","_args$validateSubOnSi","validateSubOnSilentRenew","_args$includeIdTokenI","includeIdTokenInSilentRenew","_args$monitorSession","monitorSession","_args$monitorAnonymou","_args$checkSessionInt","_args$query_status_re","query_status_response_type","_args$stopCheckSessio","_args$revokeTokenType","revokeTokenTypes","_args$revokeTokensOnS","revokeTokensOnSignout","_args$includeIdTokenI2","includeIdTokenInSilentSignout","_args$accessTokenExpi","accessTokenExpiringNotificationTimeInSeconds","userStore","sessionStorage","IFrameWindow","_AbstractChildWindow","_super6","_ref23","_this14","_ref23$silentRequestT","_timeoutInSeconds","createHiddenIframe","_navigate2","_callee37","timer","_this15","_context38","raise","_x38","_this16","parentNode","_a2","frame","target","removeChild","iframe","IFrameNavigator","_prepare","_callee38","_ref24","_ref24$silentRequestT","_context39","_x39","_callback2","_callee39","_context40","notifyParent","_x40","PopupWindow","_AbstractChildWindow2","_super7","_ref25","_this17","_ref25$popupWindowTar","_ref25$popupWindowFea","centeredPopup","center","open","serialize","closed","_navigate3","_callee40","popupClosedInterval","_this18","_context41","focus","_x41","opener","PopupNavigator","_prepare2","_callee41","_ref26","_ref26$popupWindowFea","_ref26$popupWindowTar","_context42","_x42","_callback3","_callee42","_ref27","_ref27$keepOpen","_context43","notifyOpener","_x43","_x44","RedirectNavigator","_prepare3","_callee44","_ref28","_ref28$redirectMethod","_ref28$redirectTarget","targetWindow","redirect","_this19","_context45","navigate","_navigate4","_callee43","promise","_context44","_x46","_x45","_callback4","_callee45","_context46","UserManagerEvents","_AccessTokenEvents2","_super8","_this20","_userLoaded","_userUnloaded","_silentRenewError","_userSignedIn","_userSignedOut","_userSessionChanged","SilentRenewService","_this21","_isStarted","_retryTimer","_tokenExpiring","_callee46","_context47","signinSilent","_raiseSilentRenewError","_callee47","_context48","addAccessTokenExpiring","removeAccessTokenExpiring","RefreshState","_UserManager","redirectNavigator","popupNavigator","iframeNavigator","_client","_redirectNavigator","_popupNavigator","_iframeNavigator","_events","_silentRenewService","startSilentRenew","_sessionMonitor","_getUser","_callee48","_context49","_loadUser","_removeUser","_callee49","_context50","storeUser","unload","_signinRedirect","_callee50","requestArgs","handle","_args51","_context51","_excluded6","prepare","_signinStart","_signinRedirectCallback","_callee51","_args52","_context52","_signinEnd","_signinResourceOwnerCredentials","_callee52","_ref30","_ref30$skipUserInfo","_context53","processResourceOwnerPasswordCredentials","_buildUser","_x47","_signinPopup","_callee53","_args54","_context54","_excluded7","_signin","_signinPopupCallback","_callee54","_args55","_context55","callback","_signinSilent","_callee55","verifySub","_args56","_context56","_excluded8","_useRefreshToken2","_callee56","_context57","useRefreshToken","_x48","_signinSilentCallback","_callee57","_args58","_context58","_signinCallback","_callee58","_yield$this$_client$r","_args59","_context59","signinRedirectCallback","signinPopupCallback","signinSilentCallback","_signoutCallback","_callee59","_yield$this$_client$r2","_args60","_context60","signoutRedirectCallback","signoutPopupCallback","signoutSilentCallback","_querySessionStatus","_callee60","navResponse","_args61","_context61","_excluded9","processSigninResponse","_signin2","_callee61","_context62","_x49","_x50","_x51","_signinStart2","_callee62","_context63","createSigninRequest","_x52","_x53","_signinEnd2","_callee63","_context64","_x54","_x55","_buildUser2","_callee64","_context65","_x56","_x57","_signoutRedirect","_callee65","_args66","_context66","_excluded10","_signoutStart","_signoutRedirectCallback","_callee66","_args67","_context67","_signoutEnd","_signoutPopup","_callee67","_args68","_context68","_excluded11","_signout","_signoutPopupCallback","_callee68","_args69","_context69","_signout2","_callee69","_context70","_x58","_x59","_signoutStart2","_callee70","signoutRequest","_args71","_context71","_revokeInternal","removeUser","createSignoutRequest","_signoutEnd2","_callee71","signoutResponse","_context72","processSignoutResponse","_x60","_signoutSilent","_callee72","_args73","_context73","_excluded12","_signoutSilentCallback","_callee73","_args74","_context74","_revokeTokens","_callee74","types","_context75","_x61","_revokeInternal2","_callee75","typesPresent","_iterator6","_step6","_args76","_context76","revokeToken","_x62","_loadUser2","_callee76","_context77","_userStoreKey","_storeUser","_callee77","_context78","_x63","_clearStaleState2","_callee78","_context79","oidc_1","decodeJwt_1","enumerable","decodeJwt","overwriteReadonlyProp_1","assertIsRefWrapper_1","AssertionError","msg","setPrototypeOf","_newTarget","stack","overwriteReadonlyProp","__read","__extends","condition","assertIsRefWrapper","ref","x","errorMessage","is","toLowerCase","_value","then","assert_1","is_1","errorDefineProperty","propertyDescriptor","getOwnPropertyDescriptor","defineProperty","__assign","assert","id_1","oidc_client_ts_1","readExpirationTimeInJwt_1","urlQueryParams_1","fnv1aHashToHex_1","Deferred_1","paramsToRetrieveFromSuccessfulLogin","userToTokens","accessToken","accessTokenExpirationTime","expirationTime","readExpirationTimeInJwt","refreshToken","refreshTokenExpirationTime","idToken","issuerUri","clientId","transformUrlBeforeRedirect","getExtraQueryParams","publicUrl_params","publicUrl","configHash","fnv1aHashToHex","configHashKey","userManager","login","doesCurrentHrefRequiresAuth","urlInstance","URL_real","__spreadArray","Proxy","prop","url_1","addQueryParamToUrl","newUrl","signinRedirect","retrieveQueryParamFromUrl","wasPresent","loginSuccessUrl","paramsToRetrieveFromSuccessfulLogin_1","__values","paramsToRetrieveFromSuccessfulLogin_1_1","name_1","history","pushState","_d","dLoginSuccessUrl_1","Deferred","timeout_1","listener_1","event","paramsToRetrieveFromSuccessfulLogin_2","paramsToRetrieveFromSuccessfulLogin_2_1","name_2","pr","tokens","currentTokens","common","oidc","__awaiter","signoutRedirect","redirectTo","scheduleAutomaticRenew","msBeforeExpiration","renewTokens","react_1","oidcClientContext","createContext","prOidc","createOidc","OidcProvider","props","children","fallback","useState","oidcClient","setOidcClient","useEffect","jsx_runtime_1","jsx","Fragment","Provider","useContext","isPending","resolve_","reject_","VoidDeferred","jwt_decode_1","__importDefault","str","hash","exp","isNaN","retrieveAllQueryParamStartingWithPrefixFromUrl","doLeavePrefixInResults","baseUrl","locationSearch","newLocationSearch","part","value_i","substring","entry","arr","arr2","__esModule","arrayLikeToArray","ReferenceError","asyncGeneratorStep","gen","_next","_throw","arg","fn","Constructor","isNativeReflectConstruct","_construct","Parent","Class","Reflect","construct","Function","toPropertyKey","_defineProperties","descriptor","configurable","writable","protoProps","staticProps","unsupportedIterableToArray","allowArrayLike","it","Symbol","iterator","_e","normalCompletion","didErr","step","_e2","getPrototypeOf","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","constructor","superPropBase","property","receiver","base","desc","__proto__","subClass","superClass","sham","Boolean","valueOf","iter","from","_s","_r","_arr","_n","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptors","defineProperties","objectWithoutPropertiesLoose","excluded","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","_typeof","assertThisInitialized","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","methodName","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","awrap","async","val","reverse","pop","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","hint","prim","toPrimitive","res","minLen","test","isNativeFunction","_cache","Map","has","Wrapper"],"sourceRoot":""}
